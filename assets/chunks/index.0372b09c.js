import{d as Kr,a5 as en}from"./framework.02fbee43.js";function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(u){r(u);return}c.done?t(l):Promise.resolve(l).then(n,o)}function Z(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(l){Ct(i,n,o,a,c,"next",l)}function c(l){Ct(i,n,o,a,c,"throw",l)}a(void 0)})}}function tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hr={exports:{}},vr={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vr);var rn=vr.exports;(function(e){var t=rn.default;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(h,d,_){return Object.defineProperty(h,d,{value:_,enumerable:!0,configurable:!0,writable:!0}),h[d]}try{s({},"")}catch{s=function(_,O,L){return _[O]=L}}function w(h,d,_,O){var L=d&&d.prototype instanceof g?d:g,R=Object.create(L.prototype),T=new E(O||[]);return R._invoke=function(x,J,N){var k="suspendedStart";return function(F,V){if(k==="executing")throw new Error("Generator is already running");if(k==="completed"){if(F==="throw")throw V;return S()}for(N.method=F,N.arg=V;;){var W=N.delegate;if(W){var Q=U(W,N);if(Q){if(Q===f)continue;return Q}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(k==="suspendedStart")throw k="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);k="executing";var G=v(x,J,N);if(G.type==="normal"){if(k=N.done?"completed":"suspendedYield",G.arg===f)continue;return{value:G.arg,done:N.done}}G.type==="throw"&&(k="completed",N.method="throw",N.arg=G.arg)}}}(h,_,T),R}function v(h,d,_){try{return{type:"normal",arg:h.call(d,_)}}catch(O){return{type:"throw",arg:O}}}n.wrap=w;var f={};function g(){}function m(){}function b(){}var y={};s(y,c,function(){return this});var P=Object.getPrototypeOf,C=P&&P(P(p([])));C&&C!==o&&i.call(C,c)&&(y=C);var I=b.prototype=g.prototype=Object.create(y);function j(h){["next","throw","return"].forEach(function(d){s(h,d,function(_){return this._invoke(d,_)})})}function A(h,d){function _(L,R,T,x){var J=v(h[L],h,R);if(J.type!=="throw"){var N=J.arg,k=N.value;return k&&t(k)=="object"&&i.call(k,"__await")?d.resolve(k.__await).then(function(F){_("next",F,T,x)},function(F){_("throw",F,T,x)}):d.resolve(k).then(function(F){N.value=F,T(N)},function(F){return _("throw",F,T,x)})}x(J.arg)}var O;this._invoke=function(L,R){function T(){return new d(function(x,J){_(L,R,x,J)})}return O=O?O.then(T,T):T()}}function U(h,d){var _=h.iterator[d.method];if(_===void 0){if(d.delegate=null,d.method==="throw"){if(h.iterator.return&&(d.method="return",d.arg=void 0,U(h,d),d.method==="throw"))return f;d.method="throw",d.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var O=v(_,h.iterator,d.arg);if(O.type==="throw")return d.method="throw",d.arg=O.arg,d.delegate=null,f;var L=O.arg;return L?L.done?(d[h.resultName]=L.value,d.next=h.nextLoc,d.method!=="return"&&(d.method="next",d.arg=void 0),d.delegate=null,f):L:(d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,f)}function D(h){var d={tryLoc:h[0]};1 in h&&(d.catchLoc=h[1]),2 in h&&(d.finallyLoc=h[2],d.afterLoc=h[3]),this.tryEntries.push(d)}function M(h){var d=h.completion||{};d.type="normal",delete d.arg,h.completion=d}function E(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(D,this),this.reset(!0)}function p(h){if(h){var d=h[c];if(d)return d.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var _=-1,O=function L(){for(;++_<h.length;)if(i.call(h,_))return L.value=h[_],L.done=!1,L;return L.value=void 0,L.done=!0,L};return O.next=O}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=b,s(I,"constructor",b),s(b,"constructor",m),m.displayName=s(b,u,"GeneratorFunction"),n.isGeneratorFunction=function(h){var d=typeof h=="function"&&h.constructor;return!!d&&(d===m||(d.displayName||d.name)==="GeneratorFunction")},n.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,b):(h.__proto__=b,s(h,u,"GeneratorFunction")),h.prototype=Object.create(I),h},n.awrap=function(h){return{__await:h}},j(A.prototype),s(A.prototype,l,function(){return this}),n.AsyncIterator=A,n.async=function(h,d,_,O,L){L===void 0&&(L=Promise);var R=new A(w(h,d,_,O),L);return n.isGeneratorFunction(d)?R:R.next().then(function(T){return T.done?T.value:R.next()})},j(I),s(I,u,"Generator"),s(I,c,function(){return this}),s(I,"toString",function(){return"[object Generator]"}),n.keys=function(h){var d=[];for(var _ in h)d.push(_);return d.reverse(),function O(){for(;d.length;){var L=d.pop();if(L in h)return O.value=L,O.done=!1,O}return O.done=!0,O}},n.values=p,E.prototype={constructor:E,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!d)for(var _ in this)_.charAt(0)==="t"&&i.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var _=this;function O(N,k){return T.type="throw",T.arg=d,_.next=N,k&&(_.method="next",_.arg=void 0),!!k}for(var L=this.tryEntries.length-1;L>=0;--L){var R=this.tryEntries[L],T=R.completion;if(R.tryLoc==="root")return O("end");if(R.tryLoc<=this.prev){var x=i.call(R,"catchLoc"),J=i.call(R,"finallyLoc");if(x&&J){if(this.prev<R.catchLoc)return O(R.catchLoc,!0);if(this.prev<R.finallyLoc)return O(R.finallyLoc)}else if(x){if(this.prev<R.catchLoc)return O(R.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return O(R.finallyLoc)}}}},abrupt:function(d,_){for(var O=this.tryEntries.length-1;O>=0;--O){var L=this.tryEntries[O];if(L.tryLoc<=this.prev&&i.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var R=L;break}}R&&(d==="break"||d==="continue")&&R.tryLoc<=_&&_<=R.finallyLoc&&(R=null);var T=R?R.completion:{};return T.type=d,T.arg=_,R?(this.method="next",this.next=R.finallyLoc,f):this.complete(T)},complete:function(d,_){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&_&&(this.next=_),f},finish:function(d){for(var _=this.tryEntries.length-1;_>=0;--_){var O=this.tryEntries[_];if(O.finallyLoc===d)return this.complete(O.completion,O.afterLoc),M(O),f}},catch:function(d){for(var _=this.tryEntries.length-1;_>=0;--_){var O=this.tryEntries[_];if(O.tryLoc===d){var L=O.completion;if(L.type==="throw"){var R=L.arg;M(O)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(d,_,O){return this.delegate={iterator:p(d),resultName:_,nextLoc:O},this.method==="next"&&(this.arg=void 0),f}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(hr);var nn=hr.exports,Je=nn(),on=Je;try{regeneratorRuntime=Je}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Je:Function("r","regeneratorRuntime = r")(Je)}const $=tn(on);function an(e){if(Array.isArray(e))return e}function un(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,c;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(l){i=!0,c=l}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw c}}return n}}function at(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mr(e,t){if(e){if(typeof e=="string")return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}}function cn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e,t){return an(e)||un(e,t)||mr(e,t)||cn()}function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function ln(e){if(Array.isArray(e))return at(e)}function sn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(e){return ln(e)||sn(e)||mr(e)||fn()}var Te="data-wujie-id",Fe="data-wujie-script-id",yr="data-wujie-Flag",ut="data-container-position-flag",Be="data-container-overflow-flag",_t="data-loading-flag",Rt="data-wujie-attach-css-flag",dn="wujie_iframe",Ae="_wujie_all_event",pn="position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;",hn="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index:1;",vn=`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="30px" viewBox="0 0 24 30">
<rect x="0" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
<rect x="10" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
<rect x="20" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
</svg>`,mn="url参数为空",gr="子应用调用reload无法生效",Er="此报错可以忽略，iframe主动中断主应用代码在子应用运行",yn=Er+"，详见：https://github.com/Tencent/wujie/issues/54",Ut="事件订阅数量为空",gn="window上不存在fetch属性，需要自行polyfill",En="当前浏览器不支持无界，子应用将采用iframe方式渲染",Le="脚本请求出现错误",tt="样式请求出现错误",jt="html请求出现错误",At="无界组件短时间重复渲染了两次，可能存在性能问题请检查代码",wn="目标Script尚未准备好或已经被移除",bn="不支持document.getElementById()传入特殊字符，请参考document.querySelector文档";function ce(e){return typeof e=="function"}function _n(e){return(e==null?void 0:e.toUpperCase())==="LINK"||(e==null?void 0:e.toUpperCase())==="STYLE"||(e==null?void 0:e.toUpperCase())==="SCRIPT"||(e==null?void 0:e.toUpperCase())==="IFRAME"}var wr=window.Proxy&&window.CustomElementRegistry,Sn=typeof document.all=="function"&&typeof document.all>"u",Mt=new WeakMap,He=function(t){if(Mt.has(t))return!0;var r=Sn?typeof t=="function"&&typeof t<"u":typeof t=="function";return r&&Mt.set(t,r),r},rt=new WeakMap;function br(e){if(rt.has(e))return rt.get(e);var t=e.name.indexOf("bound ")===0&&!e.hasOwnProperty("prototype");return rt.set(e,t),t}var nt=new WeakMap;function St(e){var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(nt.has(e))return nt.get(e);var r=t;if(!r){var n=e.toString(),o=/^function\b\s[A-Z].*/,i=/^class\b/;r=o.test(n)||i.test(n)}return nt.set(e,r),r}var q=new WeakMap;function Pn(e,t){He(t)&&!br(t)&&!St(t)&&(q.has(e)?q.get(e).has(t)||q.get(e).set(t,t):(q.set(e,new WeakMap),q.get(e).set(t,t)))}function Ie(e,t){var r=e[t];if(q.has(e)&&q.get(e).has(r))return q.get(e).get(r);if(He(r)&&!br(r)&&!St(r)){var n=Function.prototype.bind.call(r,e);q.has(e)||q.set(e,new WeakMap),q.get(e).set(r,n);for(var o in r)n[o]=r[o];return r.hasOwnProperty("prototype")&&!n.hasOwnProperty("prototype")&&Object.defineProperty(n,"prototype",{value:r.prototype,enumerable:!1,writable:!0}),n}return r}function _r(e){return window.document.querySelector("iframe[".concat(Te,'="').concat(e,'"]'))}function Ve(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function Sr(e){if(!e)throw ee(mn),new Error;var t=te(e),r=t.protocol+"//"+t.host,n=t.pathname+t.search+t.hash;return n.startsWith("/")||(n="/"+n),{urlElement:t,appHostPath:r,appRoutePath:n}}function te(e){var t=window.document.createElement("a");return t.href=e,t.href=t.href,t}function Pe(e){var t=e.search||"";return Xe(new URLSearchParams(t).entries()).reduce(function(r,n){return r[n[0]]=n[1],r},{})}function Pr(e){var t=Pe(te(window.location.href));return Object.keys(t).includes(e)}function me(e,t,r){var n=e.Element.prototype.setAttribute;t.prototype.setAttribute=function(u,s){var w=s;u===r&&(w=le(s,this.baseURI||"",!0)),n.call(this,u,w)};var o=Object.getOwnPropertyDescriptor(t.prototype,r),i=o.enumerable,a=o.configurable,c=o.get,l=o.set;Object.defineProperty(t.prototype,r,{enumerable:i,configurable:a,get:function(){return c.call(this)},set:function(s){l.call(this,le(s,this.baseURI,!0))}})}function ze(e){var t=e;return t.protocol+"//"+t.host+t.pathname}function le(e,t,r){try{return e&&(r&&e.startsWith("#")?e:new URL(e,t).href)}catch{return e}}function On(e,t){var r,n=te(window.location.href),o=Pe(n);n=null;var i=o[e]||"",a=(r=i.match(/^{([^}]*)}/))===null||r===void 0?void 0:r[1];return t&&a?i.replace("{".concat(a,"}"),t[a]):i}var Pt=window.requestIdleCallback||function(e){return setTimeout(e,1)};function Or(e){return typeof e=="string"?document.querySelector(e):e}function H(e,t){var r;(r=console)===null||r===void 0||r.warn("[wujie warn]: ".concat(e),t)}function ee(e,t){var r;(r=console)===null||r===void 0||r.error("[wujie error]: ".concat(e),t)}function ct(e){var t=e.indexOf(">")+1,r=e.lastIndexOf("<");return e.substring(t,r)}function In(e){if(ie(e)==="object")return"/";try{var t=new URL(e,location.href),r=t.origin,n=t.pathname,o=n.split("/");return o.pop(),"".concat(r).concat(o.join("/"),"/")}catch(i){return console.warn(i),""}}function Ze(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e.reduce(function(i,a){return ce(a)?a.apply(void 0,[i].concat(n)):i},t||"")}}function Me(e){Promise.resolve().then(e)}function Y(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];try{e&&e.length>0&&e.map(function(i){return i[t]}).filter(function(i){return ce(i)}).forEach(function(i){return i.apply(void 0,n)})}catch(i){ee(i)}}function Ke(e){var t;return((t=e.tagName)===null||t===void 0?void 0:t.toUpperCase())==="SCRIPT"}var Ln=1;function Ir(e,t){if(Ke(e)){var r=t||String(Ln++);e.setAttribute(Fe,r)}}function Lr(e){return Ke(e)?e.getAttribute(Fe):null}function Tr(e,t){return{name:e.name,el:e.el||(t==null?void 0:t.el),url:e.url||(t==null?void 0:t.url),html:e.html||(t==null?void 0:t.html),exec:e.exec!==void 0?e.exec:t==null?void 0:t.exec,replace:e.replace||(t==null?void 0:t.replace),fetch:e.fetch||(t==null?void 0:t.fetch),props:e.props||(t==null?void 0:t.props),sync:e.sync!==void 0?e.sync:t==null?void 0:t.sync,prefix:e.prefix||(t==null?void 0:t.prefix),loading:e.loading||(t==null?void 0:t.loading),attrs:e.attrs!==void 0?e.attrs:(t==null?void 0:t.attrs)||{},degradeAttrs:e.degradeAttrs!==void 0?e.degradeAttrs:(t==null?void 0:t.degradeAttrs)||{},fiber:e.fiber!==void 0?e.fiber:(t==null?void 0:t.fiber)!==void 0?t==null?void 0:t.fiber:!0,alive:e.alive!==void 0?e.alive:t==null?void 0:t.alive,degrade:e.degrade!==void 0?e.degrade:t==null?void 0:t.degrade,plugins:e.plugins||(t==null?void 0:t.plugins),lifecycles:{beforeLoad:e.beforeLoad||(t==null?void 0:t.beforeLoad),beforeMount:e.beforeMount||(t==null?void 0:t.beforeMount),afterMount:e.afterMount||(t==null?void 0:t.afterMount),beforeUnmount:e.beforeUnmount||(t==null?void 0:t.beforeUnmount),afterUnmount:e.afterUnmount||(t==null?void 0:t.afterUnmount),activated:e.activated||(t==null?void 0:t.activated),deactivated:e.deactivated||(t==null?void 0:t.deactivated),loadError:e.loadError||(t==null?void 0:t.loadError)}}}function xe(e,t,r){var n;typeof window.CustomEvent=="function"?n=new CustomEvent(t,{detail:r}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!1,r)),e.dispatchEvent(n)}function Cr(){throw H(yn),new Error(Er)}var Tn=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,Cn=/<(script)\s+((?!type=('|")text\/ng\x2Dtemplate\3)[\s\S])*?>[\s\S]*?<\/\1>/i,xt=/.*\ssrc=('|")?([^>'"\s]+)/,Rn=/.*\stype=('|")?([^>'"\s]+)/,Un=/.*\sentry\s*.*/,jn=/.*\sasync\s*.*/,An=/.*\sdefer\s*.*/,Mn=/.*\snomodule\s*.*/,xn=/.*\stype=('|")?module('|")?\s*.*/,Dn=/<(link)\s+[\s\S]*?>/gi,Nn=/\srel=('|")?(preload|prefetch|modulepreload)\1/,Dt=/.*\shref=('|")?([^>'"\s]+)/,Wn=/.*\sas=('|")?font\1.*/,Jn=/<style[^>]*>[\s\S]*?<\/style>/gi,kn=/\s+rel=('|")?stylesheet\1.*/,$n=/.*\shref=('|")?([^>'"\s]+)/,Fn=/<!--([\s\S]*?)-->/g,Bn=/<link(\s+|\s+[\s\S]+\s+)ignore(\s*|\s+[\s\S]*|=[\s\S]*)>/i,Hn=/<style(\s+|\s+[\s\S]+\s+)ignore(\s*|\s+[\s\S]*|=[\s\S]*)>/i,Gn=/<script(\s+|\s+[\s\S]+\s+)ignore(\s*|\s+[\s\S]*|=[\s\S]*)>/i,Qn=/.*\scrossorigin=?('|")?(use-credentials|anonymous)?('|")?/i;function Nt(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function Wt(e,t){return new URL(e,t).toString()}function qn(e){var t=["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript","importmap"];return!e||t.indexOf(e)!==-1}function de(e){var t=/<[-\w]+\s+([^>]*)>/i,r=t.exec(e);if(!r)return{};for(var n=r[1],o=/([^\s=]+)\s*=\s*(['"])(.*?)\2/g,i={},a;(a=o.exec(n))!==null;){var c=a[1],l=a[3];i[c]=l}return i}function Yn(){var e=window.document.createElement("script");return"noModule"in e}var lt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return"<!-- ".concat(r?"prefetch/preload/modulepreload":""," link ").concat(t," replaced by wujie -->")},Rr=function(t){return"<!-- inline-style-".concat(t," replaced by wujie -->")},Xn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"<!-- ".concat(r," script ").concat(t," replaced by wujie -->")},Vn="<!-- inline scripts replaced by wujie -->",De=function(t){return"<!-- ignore asset ".concat(t||"file"," replaced by wujie -->")},Jt=function(t,r){return"<!-- ".concat(r?"nomodule":"module"," script ").concat(t," ignored by wujie -->")};function zn(e,t,r){var n=[],o=[],i=null,a=Yn(),c=e.replace(Fn,"").replace(Dn,function(u){var s=!!u.match(kn);if(s){var w=u.match($n),v=u.match(Bn);if(w){var f=w&&w[2],g=f;return f&&!Nt(f)&&(g=Wt(f,t)),v?De(g):(o.push({src:g}),lt(g))}}var m=u.match(Nn)&&u.match(Dt)&&!u.match(Wn);if(m){var b=u.match(Dt),y=Ue(b,3),P=y[2];return lt(P,!0)}return u}).replace(Jn,function(u){if(Hn.test(u))return De("style file");var s=ct(u);return o.push({src:"",content:s}),Rr(o.length-1)}).replace(Tn,function(u,s){var w=s.match(Gn),v=!!s.match(xn),f=s.match(Qn),g=(f==null?void 0:f[2])||"",m=a&&!!s.match(Mn)||!a&&v,b=s.match(Rn),y=b&&b[2];if(!qn(y))return u;if(Cn.test(u)&&s.match(xt)){var P=s.match(Un),C=s.match(xt),I=C&&C[2];if(i&&P)throw new SyntaxError("You should not set multiply entry script!");if(I&&!Nt(I)&&(I=Wt(I,t)),i=i||P&&I,w)return De(I||"js file");if(m)return Jt(I||"js file",a);if(I){var j=!!s.match(jn),A=!!s.match(An);return n.push(j||A?{async:j,defer:A,src:I,module:v,crossorigin:!!f,crossoriginType:g,attrs:de(u)}:{src:I,module:v,crossorigin:!!f,crossoriginType:g,attrs:de(u)}),Xn(I,j&&"async"||A&&"defer"||"")}return u}else{if(w)return De("js file");if(m)return Jt("js file",a);var U=ct(u),D=U.split(/[\r\n]+/).every(function(M){return!M.trim()||M.trim().startsWith("//")});return!D&&U&&n.push({src:"",content:U,module:v,crossorigin:!!f,crossoriginType:g,attrs:de(u)}),Vn}}),l={template:c,scripts:n,styles:o,entry:i||n[n.length-1]};return typeof r=="function"&&(l=r(l)),l}function st(e){var t=e.plugins,r=e.replace;return function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;return Ze(t.map(function(a){return a.cssLoader}))(r?r(n):n,o,i)}}function Zn(e){var t=e.plugins,r=e.replace;return function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;return Ze(t.map(function(a){return a.jsLoader}))(r?r(n):n,o,i)}}function Ge(e,t){var r=t.map(function(o){return o[e]}).filter(function(o){return o==null?void 0:o.length}),n=r.reduce(function(o,i){return o.concat(i)},[]);return e==="cssBeforeLoaders"?n.reverse():n}function ae(e,t){return t.map(function(r){return r[e]}).filter(function(r){return r==null?void 0:r.length}).reduce(function(r,n){return r.concat(n)},[])}function ue(e,t){return t.some(function(r){return typeof r=="string"?e===r:r.test(e)})}function Kn(e,t,r){var n=t?le(t,r):r,o=/url\((['"]?)((?:[^()]+|\((?:[^()]+|\([^()]*\))*\))*)(\1)\)/g;return e.replace(o,function(i,a,c,l){var u=/^data:/,s=u.test(c);return s?i:"url(".concat(a).concat(le(c,n)).concat(l,")")})}var kt={cssLoader:Kn,cssBeforeLoaders:[{content:"html {view-transition-name: none;}"}]};function Ur(e){return Array.isArray(e)?[kt].concat(Xe(e)):[kt]}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$t(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var eo={},ot={},it={};if(!window.fetch)throw ee(gn),new Error;var Ot=window.fetch.bind(window);function to(e){return e}function jr(e,t,r){return ft.apply(this,arguments)}function ft(){return ft=Z($.mark(function e(t,r,n){var o,i,a,c;return $.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=ze(t.proxyLocation),i=Ze(t.plugins.map(function(s){return s.cssLoader})),a=n().map(function(s){var w=s.src,v=s.ignore,f=s.contentPromise;return{src:w,ignore:v,contentPromise:f.then(function(g){return i(g,w,o)})}}),u.next=5,ro(r,a);case 5:return c=u.sent,u.abrupt("return",t.replace?t.replace(c):c);case 7:case"end":return u.stop()}},e)})),ft.apply(this,arguments)}function ro(e,t){return dt.apply(this,arguments)}function dt(){return dt=Z($.mark(function e(t,r){var n;return $.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t,i.abrupt("return",Promise.all(r.map(function(a,c){return a.contentPromise.then(function(l){a.src?n=n.replace(lt(a.src),a.ignore?'<link href="'.concat(a.src,'" rel="stylesheet" type="text/css">'):"<style>/* ".concat(a.src," */").concat(l,"</style>")):l&&(n=n.replace(Rr(c),"<style>/* inline-style-".concat(c," */").concat(l,"</style>")))})})).then(function(){return n}));case 2:case"end":return i.stop()}},e)})),dt.apply(this,arguments)}var no=function(t){return t.startsWith("<")},ke=function(t,r,n,o,i){return r[t]||(r[t]=n(t).then(function(a){if(a.status>=400){if(r[t]=null,o)return ee(tt,{src:t,response:a}),i==null||i(t,new Error(tt)),"";throw ee(Le,{src:t,response:a}),i==null||i(t,new Error(Le)),new Error(Le)}return a.text()}).catch(function(a){return r[t]=null,o?(ee(tt,t),i==null||i(t,a),""):(ee(Le,t),i==null||i(t,a),"")}))};function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot,r=arguments.length>2?arguments[2]:void 0;return e.map(function(n){var o=n.src,i=n.content,a=n.ignore;return i?{src:"",contentPromise:Promise.resolve(i)}:no(o)?{src:"",contentPromise:Promise.resolve(ct(o))}:{src:o,ignore:a,contentPromise:a?Promise.resolve(""):ke(o,eo,t,!0,r)}})}function Ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e.map(function(o){var i=o.src,a=o.async,c=o.defer,l=o.module,u=o.ignore,s=null;return(a||c)&&i&&!l?s=new Promise(function(w,v){return n?Pt(function(){return ke(i,ot,t,!1,r).then(w,v)}):ke(i,ot,t,!1,r).then(w,v)}):l&&i||u?s=Promise.resolve(""):i?s=ke(i,ot,t,!1,r):s=Promise.resolve(o.content),l&&!a&&(o.defer=!0),Ee(Ee({},o),{},{contentPromise:s})})}function pt(e){var t,r,n=e.url,o=e.opts,i=e.html,a=(t=o.fetch)!==null&&t!==void 0?t:Ot,c=(r=o.fiber)!==null&&r!==void 0?r:!0,l=o.plugins,u=o.loadError,s=l?Ze(l.map(function(y){return y.htmlLoader})):to,w=ae("jsExcludes",l),v=ae("cssExcludes",l),f=ae("jsIgnores",l),g=ae("cssIgnores",l),m=In,b=function(P,C,I){return(C?Promise.resolve(C):a(P).then(function(j){return j.status>=400?(ee(jt,{url:P,response:j}),u==null||u(P,new Error(jt)),""):j.text()}).catch(function(j){return it[P]=null,u==null||u(P,j),Promise.reject(j)})).then(function(j){var A=m(P),U=zn(I(j),A),D=U.template,M=U.scripts,E=U.styles;return{template:D,assetPublicPath:A,getExternalScripts:function(){return Ar(M.filter(function(S){return!S.src||!ue(S.src,w)}).map(function(S){return Ee(Ee({},S),{},{ignore:S.src&&ue(S.src,f)})}),a,u,c)},getExternalStyleSheets:function(){return Qe(E.filter(function(S){return!S.src||!ue(S.src,v)}).map(function(S){return Ee(Ee({},S),{},{ignore:S.src&&ue(S.src,g)})}),a,u)}}})};return o!=null&&o.plugins.some(function(y){return y.htmlLoader})?b(n,i,s):it[n]||(it[n]=b(n,i,s))}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e,t,r){return t&&Ft(e.prototype,t),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ce(e,t)}function oo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}function io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return io(e)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Re(e)}function uo(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function co(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $e(e,t,r){return co()?$e=Reflect.construct.bind():$e=function(o,i,a){var c=[null];c.push.apply(c,i);var l=Function.bind.apply(o,c),u=new l;return a&&Ce(u,a.prototype),u},$e.apply(null,arguments)}function ht(e){var t=typeof Map=="function"?new Map:void 0;return ht=function(n){if(n===null||!uo(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return $e(n,arguments,Re(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ce(o,n)},ht(e)}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bt(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var X=function(){var e;if((e=window.__WUJIE_INJECT)!==null&&e!==void 0&&e.idToSandboxMap)return window.__WUJIE_INJECT.idToSandboxMap;var t=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.idToSandboxMap:new Map;return window.__WUJIE_INJECT=be(be({},window.__WUJIE_INJECT),{},{idToSandboxMap:t}),t}();function ne(e){var t;return((t=X.get(e))===null||t===void 0?void 0:t.wujie)||null}function Mr(e){var t;return((t=X.get(e))===null||t===void 0?void 0:t.options)||null}function lo(e,t){var r=X.get(e);r?X.set(e,be(be({},r),{},{wujie:t})):X.set(e,{wujie:t})}function so(e){var t=X.get(e);t!=null&&t.options&&X.set(e,{options:t.options}),X.delete(e)}function fo(e,t){var r=X.get(e);r?X.set(e,be(be({},r),{},{options:t})):X.set(e,{options:t})}var B={modifyLocalProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName","getElementById"],modifyProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName","getElementsByClassName","getElementsByName","getElementById","querySelector","querySelectorAll","documentElement","scrollingElement","forms","images","links"],shadowProperties:["activeElement","childElementCount","children","firstElementChild","firstChild","fullscreenElement","lastElementChild","pictureInPictureElement","pointerLockElement","styleSheets"],shadowMethods:["append","contains","getSelection","elementFromPoint","elementsFromPoint","getAnimations","replaceChildren"],documentProperties:["characterSet","compatMode","contentType","designMode","dir","doctype","embeds","fullscreenEnabled","hidden","implementation","lastModified","pictureInPictureEnabled","plugins","readyState","referrer","visibilityState","fonts"],documentMethods:["execCommand","caretPositionFromPoint","createRange","exitFullscreen","exitPictureInPicture","getElementsByTagNameNS","hasFocus","prepend"],documentEvents:["onpointerlockchange","onpointerlockerror","onbeforecopy","onbeforecut","onbeforepaste","onfreeze","onresume","onsearch","onfullscreenchange","onfullscreenerror","onsecuritypolicyviolation","onvisibilitychange"],ownerProperties:["head","body"]},Ht=["DOMContentLoaded","readystatechange"],po=["onreadystatechange"],Gt=["fullscreenchange","fullscreenerror","selectionchange","visibilitychange","wheel","keydown","keypress","keyup"],Qt=["gotpointercapture","lostpointercapture"],qt=["hashchange","popstate","DOMContentLoaded","load","beforeunload","unload","message","error","unhandledrejection"],ho=["onload","onbeforeunload","onunload","onerror","onunhandledrejection"],vo={IMG:"src",A:"href",SOURCE:"src"},mo=["getComputedStyle","visualViewport","matchMedia","DOMParser"],yo=[/animationFrame$/i,/resizeObserver$|mutationObserver$|intersectionObserver$/i,/height$|width$|left$/i,/^screen/i,/CSSStyleSheet$/i,/X$|Y$/],xr=HTMLElement.prototype.appendChild,Dr=HTMLElement.prototype.removeChild,Yt=HTMLElement.prototype.contains,go=HTMLHeadElement.prototype.insertBefore,Eo=HTMLBodyElement.prototype.insertBefore,Tt=Node.prototype.addEventListener,et=Node.prototype.removeEventListener,Xt=window.addEventListener,Vt=window.removeEventListener,pe=Node.prototype.appendChild,he=window.__POWERED_BY_WUJIE__?window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__:Document.prototype.querySelector;function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zt(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wo(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function Ne(e,t){var r=new CustomEvent(t),n=wo(r,function(){return e});ce(e["on".concat(t)])?e["on".concat(t)](n):e.dispatchEvent(n)}function we(e,t){if(!(!e.innerHTML||t.degrade)){var r=function(){var o=Fr([e.sheet]),i=Ue(o,2),a=i[0],c=i[1];a&&t.shadowRoot.head.appendChild(a),c&&t.shadowRoot.host.appendChild(c),e._patcher=void 0};e._patcher&&clearTimeout(e._patcher),e._patcher=setTimeout(r,50)}}function bo(e,t,r,n){var o;if(e._hasPatchStyle)return;var i=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),a=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerText"),c=Object.getOwnPropertyDescriptor(Node.prototype,"textContent"),l=(o=e.sheet)===null||o===void 0?void 0:o.insertRule;function u(){l&&(e.sheet.insertRule=function(s,w){return i?e.innerHTML+=s:e.innerText+=s,l.call(e.sheet,s,w)})}u(),i&&Object.defineProperties(e,{innerHTML:{get:function(){return i.get.call(e)},set:function(w){var v=this;i.set.call(e,t(w,"",n)),Me(function(){return we(v,r)})}}}),Object.defineProperties(e,{innerText:{get:function(){return a.get.call(e)},set:function(w){var v=this;a.set.call(e,t(w,"",n)),Me(function(){return we(v,r)})}},textContent:{get:function(){return c.get.call(e)},set:function(w){var v=this;c.set.call(e,t(w,"",n)),Me(function(){return we(v,r)})}},appendChild:{value:function(w){var v=this;if(Me(function(){return we(v,r)}),w.nodeType===Node.TEXT_NODE){var f=pe.call(e,e.ownerDocument.createTextNode(t(w.textContent,"",n)));return u(),f}else return pe(w)}},_hasPatchStyle:{get:function(){return!0}}})}var Zt=Promise.resolve();function We(e){return function(r,n){var o,i=this,a=r,c=e.rawDOMAppendOrInsertBefore,l=e.wujieId,u=ne(l),s=u.styleSheetElements,w=u.replace,v=u.fetch,f=u.plugins,g=u.iframe,m=u.lifecycles,b=u.proxyLocation,y=u.fiber;if(!_n(a.tagName)||!l){var P=c.call(this,a,n);return re(a,g.contentWindow),Y(f,"appendOrInsertElementHook",a,g.contentWindow),P}var C=g.contentDocument,I=ze(b);if(a.tagName)switch((o=a.tagName)===null||o===void 0?void 0:o.toUpperCase()){case"LINK":{var j=a,A=j.href,U=j.rel,D=j.type,M=U==="stylesheet"||D==="text/css"||A.endsWith(".css");if(!M){var E=c.call(this,a,n);return Y(f,"appendOrInsertElementHook",a,g.contentWindow),E}A&&!ue(A,ae("cssExcludes",f))&&Qe([{src:A,ignore:ue(A,ae("cssIgnores",f))}],v,m.loadError).forEach(function(Q){var G=Q.src,se=Q.ignore,je=Q.contentPromise;return je.then(function(Vr){var zr=de(a.outerHTML);if(se&&G)c.call(i,a,n);else{var Oe=C.createElement("style"),Zr=st({plugins:f,replace:w});Oe.innerHTML=Zr(Vr,G,I),s.push(Oe),Ve(Oe,zr),c.call(i,Oe,n),we(Oe,u),Ne(a,"load")}a=null},function(){Ne(a,"error"),a=null})});var p=C.createComment("dynamic link ".concat(A," replaced by wujie"));return c.call(this,p,n)}case"STYLE":{var S=r;s.push(S);var h=S.innerHTML,d=st({plugins:f,replace:w});h&&(S.innerHTML=d(h,"",I));var _=c.call(this,a,n);return bo(S,d,u,I),we(S,u),Y(f,"appendOrInsertElementHook",a,g.contentWindow),_}case"SCRIPT":{Ir(a);var O=a,L=O.src,R=O.text,T=O.type,x=O.crossOrigin;if(L&&!ue(L,ae("jsExcludes",f))){var J=function(G){if(u.iframe===null)return H(At);var se=function(){Ne(a,"load"),a=null};z(ye(ye({},G),{},{onload:se}),u.iframe.contentWindow,a)},N={src:L,module:T==="module",crossorigin:x!==null,crossoriginType:x||"",ignore:ue(L,ae("jsIgnores",f)),attrs:de(a.outerHTML)};Ar([N],v,m.loadError,y).forEach(function(Q){Zt=Zt.then(function(){return Q.contentPromise.then(function(G){var se;if(u.execQueue===null)return H(At);var je=(se=u.execQueue)===null||se===void 0?void 0:se.length;u.execQueue.push(function(){return y?u.requestIdleCallback(function(){J(ye(ye({},Q),{},{content:G}))}):J(ye(ye({},Q),{},{content:G}))}),je||u.execQueue.shift()()},function(){Ne(a,"error"),a=null})})})}else{var k,F=(k=u.execQueue)===null||k===void 0?void 0:k.length;u.execQueue.push(function(){return y?u.requestIdleCallback(function(){z({src:null,content:R,attrs:de(a.outerHTML)},u.iframe.contentWindow,a)}):z({src:null,content:R,attrs:de(a.outerHTML)},u.iframe.contentWindow,a)}),F||u.execQueue.shift()()}var V=C.createComment("dynamic script ".concat(L," replaced by wujie"));return c.call(this,V,n)}case"IFRAME":{if(a.getAttribute(yr)==="")return pe.call(he.call(this.ownerDocument,"html"),a);var W=c.call(this,a,n);return Y(f,"appendOrInsertElementHook",a,g.contentWindow),W}}}}function Nr(e,t){var r=Lr(e),n=ne(t),o=n.iframe,i=o.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.querySelector("script[".concat(Fe,"='").concat(r,"']"));return i===null&&H(wn,"<script ".concat(Fe,"='").concat(r,"'/>")),{targetScript:i,iframe:o}}function Kt(e){return function(r){var n=r,o=e.rawElementContains,i=e.wujieId;if(n&&Ke(n)){var a=Nr(n,i),c=a.targetScript;return c!==null}return o(n)}}function _o(e){return function(r){var n=r,o=e.rawElementRemoveChild,i=e.wujieId;if(n&&Ke(n)){var a=Nr(n,i),c=a.targetScript,l=a.iframe;return c!==null?l.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.removeChild(c):null}return o(n)}}function er(e){var t=new Map;e._cacheListeners=t,e.addEventListener=function(r,n,o){var i=t.get(r)||[];return t.set(r,[].concat(Xe(i),[n])),Tt.call(e,r,n,o)},e.removeEventListener=function(r,n,o){var i=t.get(r),a=i==null?void 0:i.indexOf(n);return i!=null&&i.length&&a!==-1&&i.splice(a,1),et.call(e,r,n,o)}}function tr(e){var t=e._cacheListeners;Xe(t.entries()).forEach(function(r){var n=Ue(r,2),o=n[0],i=n[1];i.forEach(function(a){return et.call(e,o,a)})})}function Wr(e,t,r){r||(er(e.head),er(e.body)),e.head.appendChild=We({rawDOMAppendOrInsertBefore:pe,wujieId:t}),e.head.insertBefore=We({rawDOMAppendOrInsertBefore:go,wujieId:t}),e.head.removeChild=_o({rawElementRemoveChild:Dr.bind(e.head),wujieId:t}),e.head.contains=Kt({rawElementContains:Yt.bind(e.head),wujieId:t}),e.contains=Kt({rawElementContains:Yt.bind(e),wujieId:t}),e.body.appendChild=We({rawDOMAppendOrInsertBefore:pe,wujieId:t}),e.body.insertBefore=We({rawDOMAppendOrInsertBefore:Eo,wujieId:t})}function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function So(e){var t=Po();return function(){var n=Re(e),o;if(t){var i=Re(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ao(this,o)}}function Po(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Oo={":root":":host"};function Io(){var e=window.customElements;if(e&&!(e!=null&&e.get("wujie-app"))){var t=function(r){oo(o,r);var n=So(o);function o(){return It(this,o),n.apply(this,arguments)}return Lt(o,[{key:"connectedCallback",value:function(){if(!this.shadowRoot){var a=this.attachShadow({mode:"open"}),c=ne(this.getAttribute(Te));re(a,c.iframe.contentWindow),c.shadowRoot=a}}},{key:"disconnectedCallback",value:function(){var a=ne(this.getAttribute(Te));a==null||a.unmount()}}]),o}(ht(HTMLElement));e==null||e.define("wujie-app",t)}}function Lo(e){var t=window.document.createElement("wujie-app");return t.setAttribute(Te,e),t.classList.add(dn),t}function ve(e,t){var r=Or(t);return r&&!r.contains(e)&&(r.querySelector("div[".concat(_t,"]"))||fe(r),e&&xr.call(r,e)),r}function Jr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Ro(e,r),o=ve(n,t),i=n.contentWindow.document;return i.open(),i.write("<!DOCTYPE html><html><head></head><body></body></html>"),i.close(),{iframe:n,container:o}}function kr(e,t){return vt.apply(this,arguments)}function vt(){return vt=Z($.mark(function e(t,r){var n,o,i,a,c,l,u,s;return $.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.iframe.contentDocument,o=t.plugins,i=t.replace,a=t.proxyLocation,c=st({plugins:o,replace:i}),l=Ge("cssBeforeLoaders",o),u=Ge("cssAfterLoaders",o),s=ze(a),v.next=8,Promise.all([Promise.all(Qe(l,t.fetch,t.lifecycles.loadError).map(function(f){var g=f.src,m=f.contentPromise;return m.then(function(b){return{src:g,content:b}})})).then(function(f){f.forEach(function(g){var m=g.src,b=g.content;if(b){var y=n.createElement("style");y.setAttribute("type","text/css"),y.appendChild(n.createTextNode(b&&c(b,m,s)));var P=r.querySelector("head"),C=r.querySelector("body");r.insertBefore(y,P||C||r.firstChild)}})}),Promise.all(Qe(u,t.fetch,t.lifecycles.loadError).map(function(f){var g=f.src,m=f.contentPromise;return m.then(function(b){return{src:g,content:b}})})).then(function(f){f.forEach(function(g){var m=g.src,b=g.content;if(b){var y=n.createElement("style");y.setAttribute("type","text/css"),y.appendChild(n.createTextNode(b&&c(b,m,s))),r.appendChild(y)}})})]).then(function(){return r},function(){return r});case 8:return v.abrupt("return",v.sent);case 9:case"end":return v.stop()}},e)})),vt.apply(this,arguments)}function To(e,t,r){var n=e.querySelector("head"),o=e.querySelector("body");if(n){for(;n.firstChild;)pe.call(t,n.firstChild.cloneNode(!0)),n.removeChild(n.firstChild);n.parentNode.replaceChild(t,n)}if(o){for(;o.firstChild;)pe.call(r,o.firstChild.cloneNode(!0)),o.removeChild(o.firstChild);o.parentNode.replaceChild(r,o)}return e}function $r(e,t){var r=e.__WUJIE,n=r.head,o=r.body,i=r.alive,a=r.execFlag,c=e.document,l=new DOMParser,u=l.parseFromString(t,"text/html"),s=u.documentElement,w=s.attributes,v=c.createElement("html");v.innerHTML=t;for(var f=0;f<w.length;f++)v.setAttribute(w[f].name,w[f].value);!i&&a?v=To(v,n,o):(r.head=v.querySelector("head"),r.body=v.querySelector("body"));for(var g=c.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,null,!1),m=g.currentNode;m;){re(m,e);var b=vo[m.tagName],y=m[b];b&&m.setAttribute(b,le(y,m.baseURI||"")),m=g.nextNode()}if(!v.querySelector("head")){var P=c.createElement("head");v.appendChild(P)}if(!v.querySelector("body")){var C=c.createElement("body");v.appendChild(C)}return v}function Co(e,t,r){return mt.apply(this,arguments)}function mt(){return mt=Z($.mark(function e(t,r,n){var o,i,a;return $.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=$r(r,n),l.next=3,kr(r.__WUJIE,o);case 3:i=l.sent,t.appendChild(i),a=document.createElement("div"),a.setAttribute("style",pn),i.insertBefore(a,i.firstChild),t.head=t.querySelector("head"),t.body=t.querySelector("body"),Object.defineProperty(t.firstChild,"parentNode",{enumerable:!0,configurable:!0,get:function(){return r.document}}),Wr(t,r.__WUJIE.id,!1);case 12:case"end":return l.stop()}},e)})),mt.apply(this,arguments)}function Ro(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("iframe"),n="height:100%;width:100%";return Ve(r,nr(nr({},t),{},K({style:[n,t.style].join(";")},Te,e))),r}function or(e,t,r){return yt.apply(this,arguments)}function yt(){return yt=Z($.mark(function e(t,r,n){var o,i;return $.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=$r(r,n),c.next=3,kr(r.__WUJIE,o);case 3:i=c.sent,t.replaceChild(i,t.documentElement),Object.defineProperty(t.documentElement,"parentNode",{enumerable:!0,configurable:!0,get:function(){return r.document}}),Wr(t,r.__WUJIE.id,!0);case 7:case"end":return c.stop()}},e)})),yt.apply(this,arguments)}function fe(e){for(;e!=null&&e.firstChild;)Dr.call(e,e.firstChild)}function Uo(e,t){var r=Or(e);fe(r);var n=null;try{n=window.getComputedStyle(r)}catch{return}n.position==="static"?(r.setAttribute(ut,n.position),r.setAttribute(Be,n.overflow==="visible"?"":n.overflow),r.style.setProperty("position","relative"),r.style.setProperty("overflow","hidden")):["relative","sticky"].includes(n.position)&&(r.setAttribute(Be,n.overflow==="visible"?"":n.overflow),r.style.setProperty("overflow","hidden"));var o=document.createElement("div");o.setAttribute(_t,""),o.setAttribute("style",hn),t?o.appendChild(t):o.innerHTML=vn,r.appendChild(o)}function ir(e){var t=e.getAttribute(ut),r=e.getAttribute(Be);t&&e.style.removeProperty("position"),r!==null&&(r?e.style.setProperty("overflow",r):e.style.removeProperty("overflow")),e.removeAttribute(ut),e.removeAttribute(Be);var n=e.querySelector("div[".concat(_t,"]"));n&&e.removeChild(n)}function Fr(e){for(var t=[],r=[],n=/:root/g,o=0;o<e.length;o++)for(var i,a,c=(i=(a=e[o])===null||a===void 0?void 0:a.cssRules)!==null&&i!==void 0?i:[],l=0;l<c.length;l++){var u=c[l].cssText;n.test(u)&&t.push(u.replace(n,function(v){return Oo[v]})),c[l].type===CSSRule.FONT_FACE_RULE&&r.push(u)}var s=null,w=null;return t.length&&(s=window.document.createElement("style"),s.innerHTML=t.join("")),r.length&&(w=window.document.createElement("style"),w.innerHTML=r.join("")),[s,w]}function _e(e){var t=e.__WUJIE,r=t.sync,n=t.id,o=t.prefix,i=te(window.location.href),a=Pe(i);if(!r&&!a[n])return i=null;var c=e.location.pathname+e.location.search+e.location.hash,l="";o&&Object.keys(o).forEach(function(s){var w=o[s];c.startsWith(w)&&(!l||w.length>o[l].length)&&(l=s)}),r?a[n]=window.encodeURIComponent(l?c.replace(o[l],"{".concat(l,"}")):c):delete a[n];var u="?"+Object.keys(a).map(function(s){return s+"="+a[s]}).join("&");i.search=u,i.href!==window.location.href&&window.history.replaceState(null,"",i.href),i=null}function jo(e){var t=e.location,r=t.pathname,n=t.search,o=t.hash,i=e.__WUJIE,a=i.id,c=i.url,l=i.sync,u=i.execFlag,s=i.prefix,w=i.inject,v=l&&!u?On(a,s):c,f=(/^http/.test(v)?null:v)||c,g=Sr(f),m=g.appRoutePath,b=r+n+o;b!==m&&e.history.replaceState(null,"",w.mainHostPath+m)}function Ao(){var e=te(window.location.href),t=Pe(e);Object.keys(t).forEach(function(n){var o=ne(n);o&&o.execFlag&&o.sync&&!o.hrefFlag&&!o.activeFlag&&delete t[n]});var r="?"+Object.keys(t).map(function(n){return n+"="+t[n]}).join("&");e.search=r,e.href!==window.location.href&&window.history.replaceState(null,"",e.href),e=null}function Mo(e,t){var r=te(window.location.href),n=Pe(r);n[e]=window.encodeURIComponent(t);var o="?"+Object.keys(n).map(function(i){return i+"="+n[i]}).join("&");r.search=o,window.history.pushState(null,"",r.href),r=null}function xo(){window.addEventListener("popstate",function(){var e=te(window.location.href),t=Pe(e);e=null,Object.keys(t).map(function(r){return ne(r)}).filter(function(r){return r}).forEach(function(r){var n=t[r.id],o=he.call(r.iframe.contentDocument,"body");if(/http/.test(n))r.degrade?(ve(r.document.documentElement,o),Ye(window.decodeURIComponent(n),_r(r.id).parentElement,r.degradeAttrs)):Ye(window.decodeURIComponent(n),r.shadowRoot.host.parentElement,r.degradeAttrs),r.hrefFlag=!0;else if(r.hrefFlag){if(r.degrade){var i=Jr(r.id,r.el,r.degradeAttrs),a=i.iframe;Br(a.contentWindow,r.iframe.contentWindow),a.contentWindow.onunload=function(){r.unmount()},a.contentDocument.appendChild(o.firstElementChild),r.document=a.contentDocument}else ve(r.shadowRoot.host,r.el);r.hrefFlag=!1}})})}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ar(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Do(e){e.__WUJIE_EVENTLISTENER__=e.__WUJIE_EVENTLISTENER__||new Set,e.addEventListener=function(r,n,o){if(Y(e.__WUJIE.plugins,"windowAddEventListenerHook",e,r,n,o),e.__WUJIE_EVENTLISTENER__.add({type:r,listener:n,options:o}),qt.includes(r)||ie(o)==="object"&&o.targetWindow){var i=ie(o)==="object"&&o.targetWindow?o==null?void 0:o.targetWindow:e;return Xt.call(i,r,n,o)}Xt.call(window.__WUJIE_RAW_WINDOW__||window,r,n,o)},e.removeEventListener=function(r,n,o){if(Y(e.__WUJIE.plugins,"windowRemoveEventListenerHook",e,r,n,o),e.__WUJIE_EVENTLISTENER__.forEach(function(a){a.listener===n&&a.type===r&&o==a.options&&e.__WUJIE_EVENTLISTENER__.delete(a)}),qt.includes(r)||ie(o)==="object"&&o.targetWindow){var i=ie(o)==="object"&&o.targetWindow?o==null?void 0:o.targetWindow:e;return Vt.call(i,r,n,o)}Vt.call(window.__WUJIE_RAW_WINDOW__||window,r,n,o)}}function ur(e,t,r){e.__WUJIE=t,e.__WUJIE_PUBLIC_PATH__=r+"/",e.$wujie=t.provide,e.__WUJIE_RAW_WINDOW__=e}function No(e,t,r){var n=e.history,o=n.pushState,i=n.replaceState;n.pushState=function(a,c,l){var u=r+e.location.pathname+e.location.search+e.location.hash,s=le(l==null?void 0:l.replace(t,""),u),w=l===void 0;o.call(n,a,c,w?void 0:s),!w&&(cr(e,t,r),_e(e))},n.replaceState=function(a,c,l){var u=r+e.location.pathname+e.location.search+e.location.hash,s=le(l==null?void 0:l.replace(t,""),u),w=l===void 0;i.call(n,a,c,w?void 0:s),!w&&(cr(e,t,r),_e(e))}}function cr(e,t,r){var n,o=new URL((n=e.location.href)===null||n===void 0?void 0:n.replace(r,""),t),i=he.call(e.document,"base");i&&i.setAttribute("href",t+o.pathname)}function Wo(e){function t(n){var o=e[n];try{return typeof o=="function"&&!St(o)?e[n]=window[n].bind(window):e[n]=window[n],!0}catch(i){return H(i.message),!1}}Object.getOwnPropertyNames(e).forEach(function(n){if(n==="getSelection"){Object.defineProperty(e,n,{get:function(){return e.document[n]}});return}if(mo.includes(n)){t(n);return}yo.some(function(o){return o.test(n)&&n in e.parent?t(n):!1})});var r=Object.getOwnPropertyNames(window).filter(function(n){return/^on/.test(n)}).filter(function(n){return!ho.includes(n)});r.forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n)||{enumerable:!0,writable:!0};try{Object.defineProperty(e,n,{enumerable:o.enumerable,configurable:!0,get:function(){return window[n]},set:o.writable||o.set?function(i){window[n]=typeof i=="function"?i.bind(e):i}:void 0})}catch(i){H(i.message)}}),Y(e.__WUJIE.plugins,"windowPropertyOverride",e)}function Jo(e){var t=e.__WUJIE;e.Node.prototype.addEventListener=function(r,n,o){var i=t.elementEventCacheMap.get(this);return i?i.find(function(a){return a.type===r&&a.handler===n})||i.push({type:r,handler:n,options:o}):t.elementEventCacheMap.set(this,[{type:r,handler:n,options:o}]),Tt.call(this,r,n,o)},e.Node.prototype.removeEventListener=function(r,n,o){var i=t.elementEventCacheMap.get(this);if(i){var a=i==null?void 0:i.findIndex(function(c){return c.type===r&&c.handler===n});i.splice(a,1)}return i!=null&&i.length||t.elementEventCacheMap.delete(this),et.call(this,r,n,o)}}function ko(e,t){for(var r=t.__WUJIE,n=new WeakMap,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),i=o.currentNode;i;){var a=r.elementEventCacheMap.get(i);a!=null&&a.length&&(n.set(i,a),a.forEach(function(c){i.addEventListener(c.type,c.handler,c.options)})),i=o.nextNode()}r.elementEventCacheMap=n}function $o(e,t,r){var n=r.__WUJIE,o=new WeakMap,i=n.elementEventCacheMap.get(e);i!=null&&i.length&&(o.set(t,i),i.forEach(function(a){t.addEventListener(a.type,a.handler,a.options)})),n.elementEventCacheMap=o}function Br(e,t){Object.defineProperty(e.Event.prototype,"timeStamp",{get:function(){return t.document.createEvent("Event").timeStamp}})}function Fo(e){var t=e.__WUJIE,r=new WeakMap,n=new WeakMap;e.Document.prototype.addEventListener=function(f,g,m){if(g){var b=r.get(g),y=n.get(g);if(b||(b=typeof g=="function"?g.bind(this):g,r.set(g,b)),y?y.includes(f)||y.push(f):n.set(g,[f]),Y(e.__WUJIE.plugins,"documentAddEventListenerHook",e,f,b,m),Ht.includes(f))return Tt.call(this,f,b,m);if(t.degrade)return t.document.addEventListener(f,b,m);if(Gt.includes(f))return window.document.addEventListener(f,b,m);if(Qt.includes(f)){window.document.addEventListener(f,b,m),t.shadowRoot.addEventListener(f,b,m);return}t.shadowRoot.addEventListener(f,b,m)}},e.Document.prototype.removeEventListener=function(f,g,m){var b=r.get(g),y=n.get(g);if(b){if(y!=null&&y.includes(f)&&(y.splice(y.indexOf(f),1),y.length||(r.delete(g),n.delete(g))),Y(e.__WUJIE.plugins,"documentRemoveEventListenerHook",e,f,b,m),Ht.includes(f))return et.call(this,f,b,m);if(t.degrade)return t.document.removeEventListener(f,b,m);if(Gt.includes(f))return window.document.removeEventListener(f,b,m);if(Qt.includes(f)){window.document.removeEventListener(f,b,m),t.shadowRoot.removeEventListener(f,b,m);return}t.shadowRoot.removeEventListener(f,b,m)}};var o=Object.keys(e.HTMLElement.prototype).filter(function(f){return/^on/.test(f)}),i=Object.keys(e.Document.prototype).filter(function(f){return/^on/.test(f)}).filter(function(f){return!po.includes(f)});o.filter(function(f){return i.includes(f)}).forEach(function(f){var g=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:g.enumerable,configurable:!0,get:function(){return t.degrade?t.document[f]:t.shadowRoot.firstElementChild[f]},set:g.writable||g.set?function(m){var b=typeof m=="function"?m.bind(e.document):m;t.degrade?t.document[f]=b:t.shadowRoot.firstElementChild[f]=b}:void 0})}catch(m){H(m.message)}});var a=B.ownerProperties,c=B.modifyProperties,l=B.shadowProperties,u=B.shadowMethods,s=B.documentProperties,w=B.documentMethods,v=B.documentEvents;c.concat(l,u,s,w).forEach(function(f){var g=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:g.enumerable,configurable:!0,get:function(){return t.proxyDocument[f]},set:void 0})}catch(m){H(m.message)}}),v.forEach(function(f){var g=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:g.enumerable,configurable:!0,get:function(){return(t.degrade?t:window).document[f]},set:g.writable||g.set?function(m){(t.degrade?t:window).document.removeEventListener(f,r.get(m)),(t.degrade?t:window).document.addEventListener(f,typeof m=="function"?m.bind(e.document):m),r.set(m,m.bind(e.document))}:void 0})}catch(m){H(m.message)}}),a.forEach(function(f){Object.defineProperty(e.document,f,{enumerable:!0,configurable:!0,get:function(){return t.proxyDocument[f]},set:void 0})}),Y(e.__WUJIE.plugins,"documentPropertyOverride",e)}function Bo(e){var t=e.Node.prototype.getRootNode,r=e.Node.prototype.appendChild,n=e.Node.prototype.insertBefore,o=e.Node.prototype.removeChild;e.Node.prototype.getRootNode=function(i){var a=t.call(this,i);return a===e.__WUJIE.shadowRoot?e.document:a},e.Node.prototype.appendChild=function(i){var a=r.call(this,i);return re(i,e),a},e.Node.prototype.insertBefore=function(i,a){var c=n.call(this,i,a);return re(i,e),c},e.Node.prototype.removeChild=function(i){var a;try{a=o.call(this,i)}catch{var c;console.warn("Failed to removeChild: ".concat(i.nodeName.toLowerCase()," is not a child of ").concat(this.nodeName.toLowerCase(),", try again with parentNode attribute. ")),i.isConnected&&ce((c=i.parentNode)===null||c===void 0?void 0:c.removeChild)&&i.parentNode.removeChild(i)}return re(i,e),a}}function Ho(e){me(e,e.HTMLImageElement,"src"),me(e,e.HTMLAnchorElement,"href"),me(e,e.HTMLSourceElement,"src"),me(e,e.HTMLLinkElement,"href"),me(e,e.HTMLScriptElement,"src"),me(e,e.HTMLMediaElement,"src")}function Go(e,t){var r=e.document,n=r.createElement("base"),o=te(e.location.href),i=te(t);n.setAttribute("href",i.protocol+"//"+i.host+o.pathname),r.head.appendChild(n)}function Qo(e,t,r,n){var o=e.document,i=window.document.implementation.createHTMLDocument(""),a=o.importNode(i.documentElement,!0);o.documentElement?o.replaceChild(a,o.documentElement):o.appendChild(a),e.__WUJIE_RAW_DOCUMENT_HEAD__=o.head,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__=e.Document.prototype.querySelector,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__=e.Document.prototype.querySelectorAll,e.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__=e.Document.prototype.createElement,e.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__=e.Document.prototype.createTextNode,Go(e,t.url),No(e,n,r),Do(e),t.degrade&&Jo(e),qo(e),Wo(e),Fo(e),Bo(e),Ho(e)}function Hr(e,t){var r=e.contentWindow,n=r.document,o=Date.now()+5e3;return new Promise(function(i){function a(){setTimeout(function(){var c;try{c=r.document}catch{c=null}if((!c||c==n)&&Date.now()<o){a();return}if(t){var l=r.location.href;c.open(),c.close();var u=Date.now()+1e3,s=function w(){if(Date.now()>u){Vo(),e.src=t.mainHostPath,Hr(e,!1).then(i);return}r.location.href===l?setTimeout(w,1):i()};s();return}r.stop?r.stop():c.execCommand("Stop"),i()},1)}a()})}function re(e,t){var r=t.__WUJIE.proxyLocation;if(!e._hasPatch){try{Object.defineProperties(e,{baseURI:{configurable:!0,get:function(){return r.protocol+"//"+r.host+r.pathname},set:void 0},ownerDocument:{configurable:!0,get:function(){return t.document}},_hasPatch:{get:function(){return!0}}})}catch(n){console.warn(n)}Y(t.__WUJIE.plugins,"patchElementHook",e,t)}}function qo(e){e.addEventListener("hashchange",function(){return _e(e)}),e.addEventListener("popstate",function(){_e(e)})}function z(e,t,r){var n=e,o=n.src,i=n.module,a=n.content,c=n.crossorigin,l=n.crossoriginType,u=n.async,s=n.attrs,w=n.callback,v=n.onload,f=t.document.createElement("script"),g=t.document.createElement("script"),m=t.__WUJIE,b=m.replace,y=m.plugins,P=m.proxyLocation,C=Zn({plugins:y,replace:b}),I=C(a,o,ze(P));if(s&&Object.keys(s).filter(function(E){return!Object.keys(e).includes(E)}).forEach(function(E){return f.setAttribute(E,String(s[E]))}),a){!t.__WUJIE.degrade&&!i&&(s==null?void 0:s.type)!=="importmap"&&(I=`(function(window, self, global, location) {
      `.concat(I,`
}).bind(window.__WUJIE.proxy)(
  window.__WUJIE.proxy,
  window.__WUJIE.proxy,
  window.__WUJIE.proxy,
  window.__WUJIE.proxyLocation,
);`));var j=Object.getOwnPropertyDescriptor(f,"src");if(j!=null&&j.configurable||!j)try{Object.defineProperty(f,"src",{get:function(){return o||""}})}catch(E){console.warn(E)}}else o&&f.setAttribute("src",o),c&&f.setAttribute("crossorigin",l);i&&f.setAttribute("type","module"),f.textContent=I||"",g.textContent="if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}";var A=he.call(t.document,"head"),U=function(){return!u&&A.appendChild(g)},D=function(){v==null||v(),U()};if(/^<!DOCTYPE html/i.test(I))return ee(Le,e),U();r&&Ir(f,Lr(r));var M=!a&&o;M&&(f.onload=D,f.onerror=D),A.appendChild(f),w==null||w(t),Y(y,"appendOrInsertElementHook",f,t,r),!M&&D()}function Ye(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=window.document.createElement("iframe"),o="height:100%;width:100%";Ve(n,qe(qe({},r),{},{src:e,style:[o,r.style].join(";")})),ve(n,t)}var Yo=function(){var e="wujie:disableSandboxEmptyPageURL",t=!1;try{t=localStorage.getItem(e)==="true"}catch{}if(t||typeof URL>"u"||typeof URL.createObjectURL!="function")return[function(){return""},function(){}];var r="",n=function(){if(t)return"";if(r)return r;var a=new Blob(["<!DOCTYPE html><html><head></head><body></body></html>"],{type:"text/html"});return r=URL.createObjectURL(a),r},o=function(){t=!0;try{localStorage.setItem(e,"true")}catch{}};return[n,o]}(),Gr=Ue(Yo,2),Xo=Gr[0],Vo=Gr[1];function zo(e,t,r,n,o){var i=t&&t.src,a=!1;i||(i=Xo(),a=!!i,i||(i=r));var c=window.document.createElement("iframe"),l=qe(qe({style:"display: none"},t),{},K({src:i,name:e.id},yr,""));Ve(c,l),window.document.body.appendChild(c);var u=c.contentWindow;return ur(u,e,n),e.iframeReady=Hr(c,a&&{mainHostPath:r}).then(function(){u.__WUJIE||ur(u,e,n),Qo(u,e,r,n),Pr(u.__WUJIE.id)||u.history.replaceState(null,"",r+o)}),c}function Qr(e,t,r){var n=e.contentWindow.__WUJIE,o=n.shadowRoot,i=n.id,a=n.degrade,c=n.document,l=n.degradeAttrs,u=t;if(!/^http/.test(u)){var s=te(u);u=r+s.pathname+s.search+s.hash,s=null}if(e.contentWindow.__WUJIE.hrefFlag=!0,a){var w=he.call(e.contentDocument,"body");ve(c.documentElement,w),Ye(window.decodeURIComponent(u),_r(i).parentElement,l)}else Ye(u,o.host.parentElement,l);return Mo(i,u),!0}function Zo(e,t,r,n){var o=new Proxy(e.contentWindow,{get:function(l,u){if(u==="location")return l.__WUJIE.proxyLocation;if(u==="self"||u==="window"&&Object.getOwnPropertyDescriptor(window,"window").get)return l.__WUJIE.proxy;if(u==="__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__"||u==="__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__")return l[u];var s=Object.getOwnPropertyDescriptor(l,u);return(s==null?void 0:s.configurable)===!1&&(s==null?void 0:s.writable)===!1?l[u]:Ie(l,u)},set:function(l,u,s){return Pn(l,s),l[u]=s,!0},has:function(l,u){return u in l}}),i=new Proxy({},{get:function(l,u){var s=window.document,w=e.contentWindow.__WUJIE,v=w.shadowRoot,f=w.proxyLocation;v||Cr();var g=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__,m=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__;if(u==="createElement"||u==="createTextNode")return new Proxy(s[u],{apply:function(D,M,E){var p=u==="createElement"?g:m,S=p.apply(e.contentDocument,E);return re(S,e.contentWindow),S}});if(u==="documentURI"||u==="URL")return f.href;if(u==="getElementsByTagName"||u==="getElementsByClassName"||u==="getElementsByName")return new Proxy(v.querySelectorAll,{apply:function(D,M,E){var p=E[0];if(M!==e.contentDocument)return M[u].apply(M,E);if(u==="getElementsByTagName"&&p==="script")return e.contentDocument.scripts;u==="getElementsByClassName"&&(p="."+p),u==="getElementsByName"&&(p='[name="'.concat(p,'"]'));var S;try{S=D.call(v,p)}catch{S=[]}return S}});if(u==="getElementById")return new Proxy(v.querySelector,{apply:function(D,M,E){if(M!==e.contentDocument){var p;return(p=M[u])===null||p===void 0?void 0:p.apply(M,E)}try{return D.call(v,'[id="'.concat(E[0],'"]'))||e.contentWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__.call(e.contentWindow.document,"#".concat(E[0]))}catch{return H(bn),null}}});if(u==="querySelector"||u==="querySelectorAll"){var b={querySelector:"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__",querySelectorAll:"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__"};return new Proxy(v[u],{apply:function(D,M,E){if(M!==e.contentDocument){var p;return(p=M[u])===null||p===void 0?void 0:p.apply(M,E)}return D.apply(v,E)||(E[0]==="base"?null:e.contentWindow[b[u]].call(e.contentWindow.document,E[0]))}})}if(u==="documentElement"||u==="scrollingElement")return v.firstElementChild;if(u==="forms")return v.querySelectorAll("form");if(u==="images")return v.querySelectorAll("img");if(u==="links")return v.querySelectorAll("a");var y=B.ownerProperties,P=B.shadowProperties,C=B.shadowMethods,I=B.documentProperties,j=B.documentMethods;if(y.concat(P).includes(u.toString()))return u==="activeElement"&&v.activeElement===null?v.body:v[u];if(C.includes(u.toString())){var A;return(A=Ie(v,u))!==null&&A!==void 0?A:Ie(s,u)}if(I.includes(u.toString()))return s[u];if(j.includes(u.toString()))return Ie(s,u)}}),a=new Proxy({},{get:function(l,u){var s=e.contentWindow.location;return u==="host"||u==="hostname"||u==="protocol"||u==="port"||u==="origin"?t[u]:u==="href"?s[u].replace(r,n):u==="reload"?(H(gr),function(){return null}):u==="replace"?new Proxy(s[u],{apply:function(v,f,g){var m;return v.call(s,(m=g[0])===null||m===void 0?void 0:m.replace(n,r))}}):Ie(s,u)},set:function(l,u,s){return u==="href"?Qr(e,s,n):(e.contentWindow.location[u]=s,!0)},ownKeys:function(){return Object.keys(e.contentWindow.location).filter(function(l){return l!=="reload"})},getOwnPropertyDescriptor:function(l,u){return{enumerable:!0,configurable:!0,value:this[u]}}});return{proxyWindow:o,proxyDocument:i,proxyLocation:a}}function Ko(e,t,r,n){var o={},i=e.contentWindow.__WUJIE;Object.defineProperties(o,{createElement:{get:function(){return function(){for(var P=arguments.length,C=new Array(P),I=0;I<P;I++)C[I]=arguments[I];var j=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__.apply(e.contentDocument,C);return re(j,e.contentWindow),j}}},createTextNode:{get:function(){return function(){for(var P=arguments.length,C=new Array(P),I=0;I<P;I++)C[I]=arguments[I];var j=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__.apply(e.contentDocument,C);return re(j,e.contentWindow),j}}},documentURI:{get:function(){return i.proxyLocation.href}},URL:{get:function(){return i.proxyLocation.href}},getElementsByTagName:{get:function(){return function(){var P=arguments.length<=0?void 0:arguments[0];return P==="script"?e.contentDocument.scripts:i.document.getElementsByTagName(P)}}},getElementById:{get:function(){return function(){var P=arguments.length<=0?void 0:arguments[0];return i.document.getElementById(P)||e.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.querySelector("#".concat(P))}}}});var a=B.modifyLocalProperties,c=B.modifyProperties,l=B.ownerProperties,u=B.shadowProperties,s=B.shadowMethods,w=B.documentProperties,v=B.documentMethods;c.filter(function(y){return!a.includes(y)}).concat(l,u,s,w,v).forEach(function(y){Object.defineProperty(o,y,{get:function(){var C,I=(C=i.document)===null||C===void 0?void 0:C[y];return He(I)?I.bind(i.document):I}})});var f={},g=e.contentWindow.location,m=Object.keys(g),b=["host","hostname","port","protocol","port"];return b.forEach(function(y){f[y]=t[y]}),Object.defineProperties(f,{href:{get:function(){return g.href.replace(r,n)},set:function(P){Qr(e,P,n)}},reload:{get:function(){return H(gr),function(){return null}}}}),m.filter(function(y){return!b.concat(["href","reload"]).includes(y)}).forEach(function(y){Object.defineProperty(f,y,{get:function(){return He(g[y])?g[y].bind(g):g[y]}})}),{proxyDocument:o,proxyLocation:f}}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ge=function(){var e;if((e=window.__WUJIE_INJECT)!==null&&e!==void 0&&e.appEventObjMap)return window.__WUJIE_INJECT.appEventObjMap;var t=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.appEventObjMap:new Map;return window.__WUJIE_INJECT=sr(sr({},window.__WUJIE_INJECT),{},{appEventObjMap:t}),t}(),qr=function(){function e(t){It(this,e),this.id=t,this.$clear(),ge.get(this.id)||ge.set(this.id,{}),this.eventObj=ge.get(this.id)}return Lt(e,[{key:"$on",value:function(r,n){var o=this.eventObj[r];return o?(o.includes(n)||o.push(n),this):(this.eventObj[r]=[n],this)}},{key:"$onAll",value:function(r){return this.$on(Ae,r)}},{key:"$once",value:function(r,n){var o=(function(){this.$off(r,o),n.apply(void 0,arguments)}).bind(this);this.$on(r,o)}},{key:"$off",value:function(r,n){var o=this.eventObj[r];if(!r||!o||!o.length)return H("".concat(r," ").concat(Ut)),this;for(var i,a=o.length;a--;)if(i=o[a],i===n){o.splice(a,1);break}return this}},{key:"$offAll",value:function(r){return this.$off(Ae,r)}},{key:"$emit",value:function(r){var n=[],o=[];if(ge.forEach(function(g){g[r]&&(n=n.concat(g[r])),g[Ae]&&(o=o.concat(g[Ae]))}),!r||n.length===0&&o.length===0)H("".concat(r," ").concat(Ut));else try{for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];for(var l=0,u=n.length;l<u;l++){var s;(s=n)[l].apply(s,a)}for(var w=0,v=o.length;w<v;w++){var f;(f=o)[w].apply(f,[r].concat(a))}}catch(g){ee(g)}return this}},{key:"$clear",value:function(){var r,n=(r=ge.get(this.id))!==null&&r!==void 0?r:{},o=Object.keys(n);return o.forEach(function(i){return delete n[i]}),this}}]),e}();function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Yr=function(){function e(t){It(this,e),K(this,"elementEventCacheMap",new WeakMap),window.__POWERED_BY_WUJIE__?this.inject=window.__WUJIE.inject:this.inject={idToSandboxMap:X,appEventObjMap:ge,mainHostPath:window.location.protocol+"//"+window.location.host};var r=t.name,n=t.url,o=t.attrs,i=t.fiber,a=t.degradeAttrs,c=t.degrade,l=t.lifecycles,u=t.plugins;this.id=r,this.fiber=i,this.degrade=c||!wr,this.bus=new qr(this.id),this.url=n,this.degradeAttrs=a,this.provide={bus:this.bus},this.styleSheetElements=[],this.execQueue=[],this.lifecycles=l,this.plugins=Ur(u);var s=Sr(n),w=s.urlElement,v=s.appHostPath,f=s.appRoutePath,g=this.inject.mainHostPath;if(this.iframe=zo(this,o,g,v,f),this.degrade){var m=Ko(this.iframe,w,g,v),b=m.proxyDocument,y=m.proxyLocation;this.proxyDocument=b,this.proxyLocation=y}else{var P=Zo(this.iframe,w,g,v),C=P.proxyWindow,I=P.proxyDocument,j=P.proxyLocation;this.proxy=C,this.proxyDocument=I,this.proxyLocation=j}this.provide.location=this.proxyLocation,lo(this.id,this)}return Lt(e,[{key:"active",value:function(){var t=Z($.mark(function n(o){var i=this,a,c,l,u,s,w,v,f,g,m,b,y,P,C,I,j;return $.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return a=o.sync,c=o.url,l=o.el,u=o.template,s=o.props,w=o.alive,v=o.prefix,f=o.fetch,g=o.replace,this.url=c,this.sync=a,this.alive=w,this.hrefFlag=!1,this.prefix=v??this.prefix,this.replace=g??this.replace,this.provide.props=s??this.provide.props,this.activeFlag=!0,U.next=11,this.iframeReady;case 11:if(m=this.iframe.contentWindow,b=f?function(D,M){return f(typeof D=="string"?le(D,i.proxyLocation.href):D,M)}:this.fetch,b&&(m.fetch=b,this.fetch=b),this.execFlag&&this.alive||jo(m),_e(m),this.template=u??this.template,!this.degrade){U.next=38;break}if(y=he.call(m.document,"body"),P=Jr(this.id,l??y,this.degradeAttrs),C=P.iframe,I=P.container,this.el=I,l&&fe(y),Br(C.contentWindow,m),C.contentWindow.onunload=function(){i.unmount()},!this.document){U.next=34;break}if(!this.alive){U.next=29;break}C.contentDocument.replaceChild(this.document.documentElement,C.contentDocument.documentElement),ko(C.contentDocument.documentElement,m),U.next=32;break;case 29:return U.next=31,or(C.contentDocument,this.iframe.contentWindow,this.template);case 31:$o(this.document.documentElement,C.contentDocument.documentElement,m);case 32:U.next=36;break;case 34:return U.next=36,or(C.contentDocument,this.iframe.contentWindow,this.template);case 36:return this.document=C.contentDocument,U.abrupt("return");case 38:if(!this.shadowRoot){U.next=44;break}if(this.el=ve(this.shadowRoot.host,l),!this.alive){U.next=42;break}return U.abrupt("return");case 42:U.next=46;break;case 44:j=he.call(m.document,"body"),this.el=ve(Lo(this.id),l??j);case 46:return U.next=48,Co(this.shadowRoot,m,this.template);case 48:this.patchCssRules(),this.provide.shadowRoot=this.shadowRoot;case 50:case"end":return U.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"requestIdleCallback",value:function(r){var n=this;return Pt(function(){n.iframe&&r.apply(n)})}},{key:"start",value:function(){var t=Z($.mark(function n(o){var i=this,a,c,l,u,s,w,v,f,g;return $.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return this.execFlag=!0,b.next=3,o();case 3:if(a=b.sent,this.iframe){b.next=6;break}return b.abrupt("return");case 6:return c=this.iframe.contentWindow,c.__POWERED_BY_WUJIE__=!0,l=Ge("jsBeforeLoaders",this.plugins),u=Ge("jsAfterLoaders",this.plugins),s=[],w=[],v=[],a.forEach(function(y){y.defer?v.push(y):y.async?w.push(y):s.push(y)}),l.forEach(function(y){i.execQueue.push(function(){return i.fiber?i.requestIdleCallback(function(){return z(y,c)}):z(y,c)})}),s.concat(v).forEach(function(y){i.execQueue.push(function(){return y.contentPromise.then(function(P){return i.fiber?i.requestIdleCallback(function(){return z(oe(oe({},y),{},{content:P}),c)}):z(oe(oe({},y),{},{content:P}),c)})})}),w.forEach(function(y){y.contentPromise.then(function(P){i.fiber?i.requestIdleCallback(function(){return z(oe(oe({},y),{},{content:P}),c)}):z(oe(oe({},y),{},{content:P}),c)})}),this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(function(){return i.mount()})}:function(){return i.mount()}),f=function(){var P;xe(c.document,"DOMContentLoaded"),xe(c,"DOMContentLoaded"),(P=i.execQueue.shift())===null||P===void 0||P()},this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(f)}:f),u.forEach(function(y){i.execQueue.push(function(){return i.fiber?i.requestIdleCallback(function(){return z(y,c)}):z(y,c)})}),g=function(){var P;xe(c.document,"readystatechange"),xe(c,"load"),(P=i.execQueue.shift())===null||P===void 0||P()},this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(g)}:g),(this.alive||!ce(this.iframe.contentWindow.__WUJIE_UNMOUNT))&&ir(this.el),this.execQueue.shift()(),b.abrupt("return",new Promise(function(y){i.execQueue.push(function(){var P;y(),(P=i.execQueue.shift())===null||P===void 0||P()})}));case 26:case"end":return b.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"mount",value:function(){var r;if(!this.mountFlag){if(ce(this.iframe.contentWindow.__WUJIE_MOUNT)){var n,o,i,a;ir(this.el),(n=this.lifecycles)===null||n===void 0||(o=n.beforeMount)===null||o===void 0||o.call(n,this.iframe.contentWindow),this.iframe.contentWindow.__WUJIE_MOUNT(),(i=this.lifecycles)===null||i===void 0||(a=i.afterMount)===null||a===void 0||a.call(i,this.iframe.contentWindow),this.mountFlag=!0}if(this.alive){var c,l;(c=this.lifecycles)===null||c===void 0||(l=c.activated)===null||l===void 0||l.call(c,this.iframe.contentWindow)}(r=this.execQueue.shift())===null||r===void 0||r()}}},{key:"unmount",value:function(){var t=Z($.mark(function n(){var o,i,a,c,l,u,s;return $.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.activeFlag=!1,Ao(),this.alive&&((o=this.lifecycles)===null||o===void 0||(i=o.deactivated)===null||i===void 0||i.call(o,this.iframe.contentWindow)),this.mountFlag){v.next=5;break}return v.abrupt("return");case 5:if(!(ce(this.iframe.contentWindow.__WUJIE_UNMOUNT)&&!this.alive&&!this.hrefFlag)){v.next=15;break}return(a=this.lifecycles)===null||a===void 0||(c=a.beforeUnmount)===null||c===void 0||c.call(a,this.iframe.contentWindow),v.next=9,this.iframe.contentWindow.__WUJIE_UNMOUNT();case 9:(l=this.lifecycles)===null||l===void 0||(u=l.afterUnmount)===null||u===void 0||u.call(l,this.iframe.contentWindow),this.mountFlag=!1,(s=this.bus)===null||s===void 0||s.$clear(),this.degrade||(fe(this.shadowRoot),tr(this.head),tr(this.body)),fe(this.head),fe(this.body);case 15:case"end":return v.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"destroy",value:function(){var t=Z($.mark(function n(){var o,i;return $.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.unmount();case 2:this.bus.$clear(),this.shadowRoot=null,this.proxy=null,this.proxyDocument=null,this.proxyLocation=null,this.execQueue=null,this.provide=null,this.degradeAttrs=null,this.styleSheetElements=null,this.bus=null,this.replace=null,this.fetch=null,this.execFlag=null,this.mountFlag=null,this.hrefFlag=null,this.document=null,this.head=null,this.body=null,this.elementEventCacheMap=null,this.lifecycles=null,this.plugins=null,this.provide=null,this.inject=null,this.execQueue=null,this.prefix=null,this.el&&(fe(this.el),this.el=null),this.iframe&&(i=this.iframe.contentWindow,i!=null&&i.__WUJIE_EVENTLISTENER__&&i.__WUJIE_EVENTLISTENER__.forEach(function(l){i.removeEventListener(l.type,l.listener,l.options)}),(o=this.iframe.parentNode)===null||o===void 0||o.removeChild(this.iframe),this.iframe=null),so(this.id);case 30:case"end":return c.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"rebuildStyleSheets",value:function(){var r=this;this.styleSheetElements&&this.styleSheetElements.length&&this.styleSheetElements.forEach(function(n){xr.call(r.degrade?r.document.head:r.shadowRoot.head,n)}),this.patchCssRules()}},{key:"patchCssRules",value:function(){if(!this.degrade&&!this.shadowRoot.host.hasAttribute(Rt)){var r=Fr(Array.from(this.iframe.contentDocument.querySelectorAll("style")).map(function(a){return a.sheet})),n=Ue(r,2),o=n[0],i=n[1];o&&(this.shadowRoot.head.appendChild(o),this.styleSheetElements.push(o)),i&&this.shadowRoot.host.appendChild(i),(o||i)&&this.shadowRoot.host.setAttribute(Rt,"")}}}]),e}();function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gt=new qr(Date.now().toString());window.__WUJIE&&!window.__POWERED_BY_WUJIE__&&Cr();xo();Io();wr||H(En);function ti(e){e.name&&fo(e.name,e)}function ri(e){return Et.apply(this,arguments)}function Et(){return Et=Z($.mark(function e(t){var r,n,o,i,a,c,l,u,s,w,v,f,g,m,b,y,P,C,I,j,A,U,D,M,E,p,S,h,d,_,O,L,R,T,x,J,N,k,F;return $.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(o=ne(t.name),i=Mr(t.name),a=Tr(t,i),c=a.name,l=a.url,u=a.html,s=a.replace,w=a.fetch,v=a.props,f=a.attrs,g=a.degradeAttrs,m=a.fiber,b=a.alive,y=a.degrade,P=a.sync,C=a.prefix,I=a.el,j=a.loading,A=a.plugins,U=a.lifecycles,!o){W.next=41;break}if(o.plugins=Ur(A),o.lifecycles=U,D=o.iframe.contentWindow,!o.preload){W.next=11;break}return W.next=11,o.preload;case 11:if(!b){W.next=26;break}return W.next=14,o.active({url:l,sync:P,prefix:C,el:I,props:v,alive:b,fetch:w,replace:s});case 14:if(o.execFlag){W.next=22;break}return(p=o.lifecycles)===null||p===void 0||(S=p.beforeLoad)===null||S===void 0||S.call(p,o.iframe.contentWindow),W.next=18,pt({url:l,html:u,opts:{fetch:w||window.fetch,plugins:o.plugins,loadError:o.lifecycles.loadError,fiber:m}});case 18:return h=W.sent,d=h.getExternalScripts,W.next=22,o.start(d);case 22:return(M=o.lifecycles)===null||M===void 0||(E=M.activated)===null||E===void 0||E.call(M,o.iframe.contentWindow),W.abrupt("return",function(){return o.destroy()});case 26:if(!ce(D.__WUJIE_MOUNT)){W.next=39;break}return W.next=29,o.unmount();case 29:return W.next=31,o.active({url:l,sync:P,prefix:C,el:I,props:v,alive:b,fetch:w,replace:s});case 31:return o.rebuildStyleSheets(),(_=o.lifecycles)===null||_===void 0||(O=_.beforeMount)===null||O===void 0||O.call(_,o.iframe.contentWindow),D.__WUJIE_MOUNT(),(L=o.lifecycles)===null||L===void 0||(R=L.afterMount)===null||R===void 0||R.call(L,o.iframe.contentWindow),o.mountFlag=!0,W.abrupt("return",function(){return o.destroy()});case 39:return W.next=41,o.destroy();case 41:return Uo(I,j),T=new Yr({name:c,url:l,attrs:f,degradeAttrs:g,fiber:m,degrade:y,plugins:A,lifecycles:U}),(r=T.lifecycles)===null||r===void 0||(n=r.beforeLoad)===null||n===void 0||n.call(r,T.iframe.contentWindow),W.next=46,pt({url:l,html:u,opts:{fetch:w||window.fetch,plugins:T.plugins,loadError:T.lifecycles.loadError,fiber:m}});case 46:return x=W.sent,J=x.template,N=x.getExternalScripts,k=x.getExternalStyleSheets,W.next=52,jr(T,J,k);case 52:return F=W.sent,W.next=55,T.active({url:l,sync:P,prefix:C,template:F,el:I,props:v,alive:b,fetch:w,replace:s});case 55:return W.next=57,T.start(N);case 57:return W.abrupt("return",function(){return T.destroy()});case 58:case"end":return W.stop()}},e)})),Et.apply(this,arguments)}function ni(e){Pt(function(){if(!(ne(e.name)||Pr(e.name))){var t=Mr(e.name),r=Tr(ei({},e),t),n=r.name,o=r.url,i=r.html,a=r.props,c=r.alive,l=r.replace,u=r.fetch,s=r.exec,w=r.attrs,v=r.degradeAttrs,f=r.fiber,g=r.degrade,m=r.prefix,b=r.plugins,y=r.lifecycles,P=new Yr({name:n,url:o,attrs:w,degradeAttrs:v,fiber:f,degrade:g,plugins:b,lifecycles:y});if(P.preload)return P.preload;var C=function(){var I=Z($.mark(function j(){var A,U,D,M,E,p,S;return $.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return(A=P.lifecycles)===null||A===void 0||(U=A.beforeLoad)===null||U===void 0||U.call(A,P.iframe.contentWindow),d.next=3,pt({url:o,html:i,opts:{fetch:u||window.fetch,plugins:P.plugins,loadError:P.lifecycles.loadError,fiber:f}});case 3:return D=d.sent,M=D.template,E=D.getExternalScripts,p=D.getExternalStyleSheets,d.next=9,jr(P,M,p);case 9:return S=d.sent,d.next=12,P.active({url:o,props:a,prefix:m,alive:c,template:S,fetch:u,replace:l});case 12:if(!s){d.next=17;break}return d.next=15,P.start(E);case 15:d.next=19;break;case 17:return d.next=19,E();case 19:case"end":return d.stop()}},j)}));return function(){return I.apply(this,arguments)}}();P.preload=C()}})}function Xr(e){var t=ne(e);t&&t.destroy()}function wt(e){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(e)}function bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(E,p,S){return Object.defineProperty(E,p,{value:S,enumerable:!0,configurable:!0,writable:!0}),E[p]}try{c({},"")}catch{c=function(S,h,d){return S[h]=d}}function l(E,p,S,h){var d=p&&p.prototype instanceof w?p:w,_=Object.create(d.prototype),O=new U(h||[]);return _._invoke=function(L,R,T){var x="suspendedStart";return function(J,N){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(J==="throw")throw N;return M()}for(T.method=J,T.arg=N;;){var k=T.delegate;if(k){var F=I(k,T);if(F){if(F===s)continue;return F}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(x==="suspendedStart")throw x="completed",T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);x="executing";var V=u(L,R,T);if(V.type==="normal"){if(x=T.done?"completed":"suspendedYield",V.arg===s)continue;return{value:V.arg,done:T.done}}V.type==="throw"&&(x="completed",T.method="throw",T.arg=V.arg)}}}(E,S,O),_}function u(E,p,S){try{return{type:"normal",arg:E.call(p,S)}}catch(h){return{type:"throw",arg:h}}}e.wrap=l;var s={};function w(){}function v(){}function f(){}var g={};c(g,o,function(){return this});var m=Object.getPrototypeOf,b=m&&m(m(D([])));b&&b!==t&&r.call(b,o)&&(g=b);var y=f.prototype=w.prototype=Object.create(g);function P(E){["next","throw","return"].forEach(function(p){c(E,p,function(S){return this._invoke(p,S)})})}function C(E,p){function S(d,_,O,L){var R=u(E[d],E,_);if(R.type!=="throw"){var T=R.arg,x=T.value;return x&&wt(x)=="object"&&r.call(x,"__await")?p.resolve(x.__await).then(function(J){S("next",J,O,L)},function(J){S("throw",J,O,L)}):p.resolve(x).then(function(J){T.value=J,O(T)},function(J){return S("throw",J,O,L)})}L(R.arg)}var h;this._invoke=function(d,_){function O(){return new p(function(L,R){S(d,_,L,R)})}return h=h?h.then(O,O):O()}}function I(E,p){var S=E.iterator[p.method];if(S===void 0){if(p.delegate=null,p.method==="throw"){if(E.iterator.return&&(p.method="return",p.arg=void 0,I(E,p),p.method==="throw"))return s;p.method="throw",p.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var h=u(S,E.iterator,p.arg);if(h.type==="throw")return p.method="throw",p.arg=h.arg,p.delegate=null,s;var d=h.arg;return d?d.done?(p[E.resultName]=d.value,p.next=E.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,s):d:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,s)}function j(E){var p={tryLoc:E[0]};1 in E&&(p.catchLoc=E[1]),2 in E&&(p.finallyLoc=E[2],p.afterLoc=E[3]),this.tryEntries.push(p)}function A(E){var p=E.completion||{};p.type="normal",delete p.arg,E.completion=p}function U(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(j,this),this.reset(!0)}function D(E){if(E){var p=E[o];if(p)return p.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var S=-1,h=function d(){for(;++S<E.length;)if(r.call(E,S))return d.value=E[S],d.done=!1,d;return d.value=void 0,d.done=!0,d};return h.next=h}}return{next:M}}function M(){return{value:void 0,done:!0}}return v.prototype=f,c(y,"constructor",f),c(f,"constructor",v),v.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(E){var p=typeof E=="function"&&E.constructor;return!!p&&(p===v||(p.displayName||p.name)==="GeneratorFunction")},e.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,f):(E.__proto__=f,c(E,a,"GeneratorFunction")),E.prototype=Object.create(y),E},e.awrap=function(E){return{__await:E}},P(C.prototype),c(C.prototype,i,function(){return this}),e.AsyncIterator=C,e.async=function(E,p,S,h,d){d===void 0&&(d=Promise);var _=new C(l(E,p,S,h),d);return e.isGeneratorFunction(p)?_:_.next().then(function(O){return O.done?O.value:_.next()})},P(y),c(y,a,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(E){var p=[];for(var S in E)p.push(S);return p.reverse(),function h(){for(;p.length;){var d=p.pop();if(d in E)return h.value=d,h.done=!1,h}return h.done=!0,h}},e.values=D,U.prototype={constructor:U,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!p)for(var S in this)S.charAt(0)==="t"&&r.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var S=this;function h(T,x){return O.type="throw",O.arg=p,S.next=T,x&&(S.method="next",S.arg=void 0),!!x}for(var d=this.tryEntries.length-1;d>=0;--d){var _=this.tryEntries[d],O=_.completion;if(_.tryLoc==="root")return h("end");if(_.tryLoc<=this.prev){var L=r.call(_,"catchLoc"),R=r.call(_,"finallyLoc");if(L&&R){if(this.prev<_.catchLoc)return h(_.catchLoc,!0);if(this.prev<_.finallyLoc)return h(_.finallyLoc)}else if(L){if(this.prev<_.catchLoc)return h(_.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return h(_.finallyLoc)}}}},abrupt:function(p,S){for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h];if(d.tryLoc<=this.prev&&r.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var _=d;break}}_&&(p==="break"||p==="continue")&&_.tryLoc<=S&&S<=_.finallyLoc&&(_=null);var O=_?_.completion:{};return O.type=p,O.arg=S,_?(this.method="next",this.next=_.finallyLoc,s):this.complete(O)},complete:function(p,S){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&S&&(this.next=S),s},finish:function(p){for(var S=this.tryEntries.length-1;S>=0;--S){var h=this.tryEntries[S];if(h.finallyLoc===p)return this.complete(h.completion,h.afterLoc),A(h),s}},catch:function(p){for(var S=this.tryEntries.length-1;S>=0;--S){var h=this.tryEntries[S];if(h.tryLoc===p){var d=h.completion;if(d.type==="throw"){var _=d.arg;A(h)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(p,S,h){return this.delegate={iterator:D(p),resultName:S,nextLoc:h},this.method==="next"&&(this.arg=void 0),s}},e}function pr(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(u){r(u);return}c.done?t(l):Promise.resolve(l).then(n,o)}function oi(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(l){pr(i,n,o,a,c,"next",l)}function c(l){pr(i,n,o,a,c,"throw",l)}a(void 0)})}}function ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ai={name:"WujieVue",props:{width:{type:String,default:""},height:{type:String,default:""},name:{type:String,default:""},loading:{type:HTMLElement,default:void 0},url:{type:String,default:""},sync:{type:Boolean,default:void 0},prefix:{type:Object,default:void 0},alive:{type:Boolean,default:void 0},props:{type:Object,default:void 0},attrs:{type:Object,default:void 0},replace:{type:Function,default:void 0},fetch:{type:Function,default:void 0},fiber:{type:Boolean,default:void 0},degrade:{type:Boolean,default:void 0},plugins:{type:Array,default:null},beforeLoad:{type:Function,default:null},beforeMount:{type:Function,default:null},afterMount:{type:Function,default:null},beforeUnmount:{type:Function,default:null},afterUnmount:{type:Function,default:null},activated:{type:Function,default:null},deactivated:{type:Function,default:null},loadError:{type:Function,default:null}},data:function(){return{startAppQueue:Promise.resolve()}},mounted:function(){var t=this;this.name&&(window.__WUJIE_QUEUE?window.__WUJIE_QUEUE[this.name]?this.startAppQueue=window.__WUJIE_QUEUE[this.name]:window.__WUJIE_QUEUE[this.name]=this.startAppQueue:window.__WUJIE_QUEUE=ii({},this.name,this.startAppQueue)),gt.$onAll(this.handleEmit),this.execStartApp(),this.$watch(function(){return t.name+t.url},function(){return t.execStartApp()})},methods:{handleEmit:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.$emit.apply(this,[t].concat(n))},startApp:function(){var t=this;return oi(bt().mark(function r(){return bt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,ri({name:t.name,url:t.url,el:t.$refs.wujie,loading:t.loading,alive:t.alive,fetch:t.fetch,props:t.props,attrs:t.attrs,replace:t.replace,sync:t.sync,prefix:t.prefix,fiber:t.fiber,degrade:t.degrade,plugins:t.plugins,beforeLoad:t.beforeLoad,beforeMount:t.beforeMount,afterMount:t.afterMount,beforeUnmount:t.beforeUnmount,afterUnmount:t.afterUnmount,activated:t.activated,deactivated:t.deactivated,loadError:t.loadError});case 3:o.next=8;break;case 5:o.prev=5,o.t0=o.catch(0),console.log(o.t0);case 8:case"end":return o.stop()}},r,null,[[0,5]])}))()},execStartApp:function(){this.startAppQueue=this.startAppQueue.then(this.startApp),window.__WUJIE_QUEUE[this.name]=this.startAppQueue},destroy:function(){Xr(this.name)}},beforeDestroy:function(){gt.$offAll(this.handleEmit)},render:function(){return en("div",{style:{width:this.width,height:this.height},ref:"wujie"})}},Se=Kr(ai);Se.setupApp=ti;Se.preloadApp=ni;Se.bus=gt;Se.destroyApp=Xr;Se.install=function(e){e.component("WujieVue",Se)};export{Se as default};
