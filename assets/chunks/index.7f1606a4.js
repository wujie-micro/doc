import{d as nn,a5 as on}from"./framework.02fbee43.js";function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(u){r(u);return}l.done?t(c):Promise.resolve(c).then(n,o)}function Z(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(c){jt(i,n,o,a,l,"next",c)}function l(c){jt(i,n,o,a,l,"throw",c)}a(void 0)})}}function an(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mr={exports:{}},yr={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(yr);var un=yr.exports;(function(e){var t=un.default;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(O,m,I){return Object.defineProperty(O,m,{value:I,enumerable:!0,configurable:!0,writable:!0}),O[m]}try{s({},"")}catch{s=function(I,h,d){return I[h]=d}}function b(O,m,I,h){var d=m&&m.prototype instanceof w?m:w,v=Object.create(d.prototype),S=new x(h||[]);return v._invoke=function(T,P,C){var N="suspendedStart";return function($,Q){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if($==="throw")throw Q;return D()}for(C.method=$,C.arg=Q;;){var W=C.delegate;if(W){var H=R(W,C);if(H){if(H===f)continue;return H}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(N==="suspendedStart")throw N="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);N="executing";var q=p(T,P,C);if(q.type==="normal"){if(N=C.done?"completed":"suspendedYield",q.arg===f)continue;return{value:q.arg,done:C.done}}q.type==="throw"&&(N="completed",C.method="throw",C.arg=q.arg)}}}(O,I,S),v}function p(O,m,I){try{return{type:"normal",arg:O.call(m,I)}}catch(h){return{type:"throw",arg:h}}}n.wrap=b;var f={};function w(){}function y(){}function g(){}var E={};s(E,l,function(){return this});var _=Object.getPrototypeOf,j=_&&_(_(k([])));j&&j!==o&&i.call(j,l)&&(E=j);var L=g.prototype=w.prototype=Object.create(E);function U(O){["next","throw","return"].forEach(function(m){s(O,m,function(I){return this._invoke(m,I)})})}function M(O,m){function I(d,v,S,T){var P=p(O[d],O,v);if(P.type!=="throw"){var C=P.arg,N=C.value;return N&&t(N)=="object"&&i.call(N,"__await")?m.resolve(N.__await).then(function($){I("next",$,S,T)},function($){I("throw",$,S,T)}):m.resolve(N).then(function($){C.value=$,S(C)},function($){return I("throw",$,S,T)})}T(P.arg)}var h;this._invoke=function(d,v){function S(){return new m(function(T,P){I(d,v,T,P)})}return h=h?h.then(S,S):S()}}function R(O,m){var I=O.iterator[m.method];if(I===void 0){if(m.delegate=null,m.method==="throw"){if(O.iterator.return&&(m.method="return",m.arg=void 0,R(O,m),m.method==="throw"))return f;m.method="throw",m.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var h=p(I,O.iterator,m.arg);if(h.type==="throw")return m.method="throw",m.arg=h.arg,m.delegate=null,f;var d=h.arg;return d?d.done?(m[O.resultName]=d.value,m.next=O.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,f):d:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,f)}function J(O){var m={tryLoc:O[0]};1 in O&&(m.catchLoc=O[1]),2 in O&&(m.finallyLoc=O[2],m.afterLoc=O[3]),this.tryEntries.push(m)}function A(O){var m=O.completion||{};m.type="normal",delete m.arg,O.completion=m}function x(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(J,this),this.reset(!0)}function k(O){if(O){var m=O[l];if(m)return m.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var I=-1,h=function d(){for(;++I<O.length;)if(i.call(O,I))return d.value=O[I],d.done=!1,d;return d.value=void 0,d.done=!0,d};return h.next=h}}return{next:D}}function D(){return{value:void 0,done:!0}}return y.prototype=g,s(L,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),n.isGeneratorFunction=function(O){var m=typeof O=="function"&&O.constructor;return!!m&&(m===y||(m.displayName||m.name)==="GeneratorFunction")},n.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,g):(O.__proto__=g,s(O,u,"GeneratorFunction")),O.prototype=Object.create(L),O},n.awrap=function(O){return{__await:O}},U(M.prototype),s(M.prototype,c,function(){return this}),n.AsyncIterator=M,n.async=function(O,m,I,h,d){d===void 0&&(d=Promise);var v=new M(b(O,m,I,h),d);return n.isGeneratorFunction(m)?v:v.next().then(function(S){return S.done?S.value:v.next()})},U(L),s(L,u,"Generator"),s(L,l,function(){return this}),s(L,"toString",function(){return"[object Generator]"}),n.keys=function(O){var m=[];for(var I in O)m.push(I);return m.reverse(),function h(){for(;m.length;){var d=m.pop();if(d in O)return h.value=d,h.done=!1,h}return h.done=!0,h}},n.values=k,x.prototype={constructor:x,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!m)for(var I in this)I.charAt(0)==="t"&&i.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var I=this;function h(C,N){return S.type="throw",S.arg=m,I.next=C,N&&(I.method="next",I.arg=void 0),!!N}for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d],S=v.completion;if(v.tryLoc==="root")return h("end");if(v.tryLoc<=this.prev){var T=i.call(v,"catchLoc"),P=i.call(v,"finallyLoc");if(T&&P){if(this.prev<v.catchLoc)return h(v.catchLoc,!0);if(this.prev<v.finallyLoc)return h(v.finallyLoc)}else if(T){if(this.prev<v.catchLoc)return h(v.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<v.finallyLoc)return h(v.finallyLoc)}}}},abrupt:function(m,I){for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h];if(d.tryLoc<=this.prev&&i.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var v=d;break}}v&&(m==="break"||m==="continue")&&v.tryLoc<=I&&I<=v.finallyLoc&&(v=null);var S=v?v.completion:{};return S.type=m,S.arg=I,v?(this.method="next",this.next=v.finallyLoc,f):this.complete(S)},complete:function(m,I){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&I&&(this.next=I),f},finish:function(m){for(var I=this.tryEntries.length-1;I>=0;--I){var h=this.tryEntries[I];if(h.finallyLoc===m)return this.complete(h.completion,h.afterLoc),A(h),f}},catch:function(m){for(var I=this.tryEntries.length-1;I>=0;--I){var h=this.tryEntries[I];if(h.tryLoc===m){var d=h.completion;if(d.type==="throw"){var v=d.arg;A(h)}return v}}throw new Error("illegal catch attempt")},delegateYield:function(m,I,h){return this.delegate={iterator:k(m),resultName:I,nextLoc:h},this.method==="next"&&(this.arg=void 0),f}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(mr);var cn=mr.exports,Je=cn(),ln=Je;try{regeneratorRuntime=Je}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Je:Function("r","regeneratorRuntime = r")(Je)}const F=an(ln);function sn(e){if(Array.isArray(e))return e}function fn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,l;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(c){i=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function ut(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t){if(e){if(typeof e=="string")return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(e,t)}}function dn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(e,t){return sn(e)||fn(e,t)||gr(e,t)||dn()}function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function pn(e){if(Array.isArray(e))return ut(e)}function hn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(e){return pn(e)||hn(e)||gr(e)||vn()}var Ce="data-wujie-id",He="data-wujie-script-id",Er="data-wujie-Flag",ct="data-container-position-flag",Be="data-container-overflow-flag",_t="data-loading-flag",Ct="data-wujie-attach-css-flag",mn="wujie_iframe",Me="_wujie_all_event",yn="position: fixed; z-index: 2147483647; visibility: hidden; inset: 0px; backface-visibility: hidden;",gn="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index:1;",En=`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="30px" viewBox="0 0 24 30">
<rect x="0" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
<rect x="10" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
<rect x="20" y="13" width="4" height="5" fill="#909090">
  <animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
  <animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
</rect>
</svg>`,bn="url参数为空",br="子应用调用reload无法生效",wr="此报错可以忽略，iframe主动中断主应用代码在子应用运行",wn=wr+"，详见：https://github.com/Tencent/wujie/issues/54",Rt="事件订阅数量为空",_n="window上不存在fetch属性，需要自行polyfill",Sn="当前浏览器不支持无界，子应用将采用iframe方式渲染",je="脚本请求出现错误",rt="样式请求出现错误",Ut="html请求出现错误",At="无界组件短时间重复渲染了两次，可能存在性能问题请检查代码",On="目标Script尚未准备好或已经被移除",Pn="不支持document.getElementById()传入特殊字符，请参考document.querySelector文档";function ce(e){return typeof e=="function"}function Ln(e){return(e==null?void 0:e.toUpperCase())==="LINK"||(e==null?void 0:e.toUpperCase())==="STYLE"||(e==null?void 0:e.toUpperCase())==="SCRIPT"||(e==null?void 0:e.toUpperCase())==="IFRAME"}var _r=window.Proxy&&window.CustomElementRegistry,In=typeof document.all=="function"&&typeof document.all>"u",xt=new WeakMap,Ge=function(t){if(xt.has(t))return!0;var r=In?typeof t=="function"&&typeof t<"u":typeof t=="function";return r&&xt.set(t,r),r},nt=new WeakMap;function Sr(e){if(nt.has(e))return nt.get(e);var t=e.name.indexOf("bound ")===0&&!e.hasOwnProperty("prototype");return nt.set(e,t),t}var ot=new WeakMap;function St(e){var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(ot.has(e))return ot.get(e);var r=t;if(!r){var n=e.toString(),o=/^function\b\s[A-Z].*/,i=/^class\b/;r=o.test(n)||i.test(n)}return ot.set(e,r),r}var Y=new WeakMap;function Tn(e,t){Ge(t)&&!Sr(t)&&!St(t)&&(Y.has(e)?Y.get(e).has(t)||Y.get(e).set(t,t):(Y.set(e,new WeakMap),Y.get(e).set(t,t)))}function Ie(e,t){var r=e[t];if(Y.has(e)&&Y.get(e).has(r))return Y.get(e).get(r);if(Ge(r)&&!Sr(r)&&!St(r)){var n=Function.prototype.bind.call(r,e);Y.has(e)||Y.set(e,new WeakMap),Y.get(e).set(r,n);for(var o in r)n[o]=r[o];return r.hasOwnProperty("prototype")&&!n.hasOwnProperty("prototype")&&Object.defineProperty(n,"prototype",{value:r.prototype,enumerable:!1,writable:!0}),n}return r}function Or(e){return window.document.querySelector("iframe[".concat(Ce,'="').concat(e,'"]'))}function ze(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function Pr(e){if(!e)throw ee(bn),new Error;var t=te(e),r=t.protocol+"//"+t.host,n=t.pathname+t.search+t.hash;return n.startsWith("/")||(n="/"+n),{urlElement:t,appHostPath:r,appRoutePath:n}}function te(e){var t=window.document.createElement("a");return t.href=e,t.href=t.href,t}function Pe(e){var t=e.search||"";return Ve(new URLSearchParams(t).entries()).reduce(function(r,n){return r[n[0]]=n[1],r},{})}function Lr(e){var t=Pe(te(window.location.href));return Object.keys(t).includes(e)}function ge(e,t,r){var n=e.Element.prototype.setAttribute;t.prototype.setAttribute=function(u,s){var b=s;u===r&&(b=le(s,this.baseURI||"",!0)),n.call(this,u,b)};var o=Object.getOwnPropertyDescriptor(t.prototype,r),i=o.enumerable,a=o.configurable,l=o.get,c=o.set;Object.defineProperty(t.prototype,r,{enumerable:i,configurable:a,get:function(){return l.call(this)},set:function(s){c.call(this,le(s,this.baseURI,!0))}})}function Ze(e){var t=e;return t.protocol+"//"+t.host+t.pathname}function le(e,t,r){try{return e&&(r&&e.startsWith("#")?e:new URL(e,t).href)}catch{return e}}function jn(e,t){var r,n=te(window.location.href),o=Pe(n);n=null;var i=o[e]||"",a=(r=i.match(/^{([^}]*)}/))===null||r===void 0?void 0:r[1];return t&&a?i.replace("{".concat(a,"}"),t[a]):i}var Ot=window.requestIdleCallback||function(e){return setTimeout(e,1)};function Ir(e){return typeof e=="string"?document.querySelector(e):e}function G(e,t){var r;(r=console)===null||r===void 0||r.warn("[wujie warn]: ".concat(e),t)}function ee(e,t){var r;(r=console)===null||r===void 0||r.error("[wujie error]: ".concat(e),t)}function lt(e){var t=e.indexOf(">")+1,r=e.lastIndexOf("<");return e.substring(t,r)}function Cn(e){if(ie(e)==="object")return"/";try{var t=new URL(e,location.href),r=t.origin,n=t.pathname,o=n.split("/");return o.pop(),"".concat(r).concat(o.join("/"),"/")}catch(i){return console.warn(i),""}}function Ke(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e.reduce(function(i,a){return ce(a)?a.apply(void 0,[i].concat(n)):i},t||"")}}function Te(e){Promise.resolve().then(e)}function X(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];try{e&&e.length>0&&e.map(function(i){return i[t]}).filter(function(i){return ce(i)}).forEach(function(i){return i.apply(void 0,n)})}catch(i){ee(i)}}function et(e){var t;return((t=e.tagName)===null||t===void 0?void 0:t.toUpperCase())==="SCRIPT"}var Rn=1;function Tr(e,t){if(et(e)){var r=t||String(Rn++);e.setAttribute(He,r)}}function jr(e){return et(e)?e.getAttribute(He):null}function Cr(e,t){return{name:e.name,el:e.el||(t==null?void 0:t.el),url:e.url||(t==null?void 0:t.url),html:e.html||(t==null?void 0:t.html),exec:e.exec!==void 0?e.exec:t==null?void 0:t.exec,replace:e.replace||(t==null?void 0:t.replace),fetch:e.fetch||(t==null?void 0:t.fetch),props:e.props||(t==null?void 0:t.props),sync:e.sync!==void 0?e.sync:t==null?void 0:t.sync,prefix:e.prefix||(t==null?void 0:t.prefix),loading:e.loading||(t==null?void 0:t.loading),attrs:e.attrs!==void 0?e.attrs:(t==null?void 0:t.attrs)||{},degradeAttrs:e.degradeAttrs!==void 0?e.degradeAttrs:(t==null?void 0:t.degradeAttrs)||{},fiber:e.fiber!==void 0?e.fiber:(t==null?void 0:t.fiber)!==void 0?t==null?void 0:t.fiber:!0,alive:e.alive!==void 0?e.alive:t==null?void 0:t.alive,degrade:e.degrade!==void 0?e.degrade:t==null?void 0:t.degrade,plugins:e.plugins||(t==null?void 0:t.plugins),lifecycles:{beforeLoad:e.beforeLoad||(t==null?void 0:t.beforeLoad),beforeMount:e.beforeMount||(t==null?void 0:t.beforeMount),afterMount:e.afterMount||(t==null?void 0:t.afterMount),beforeUnmount:e.beforeUnmount||(t==null?void 0:t.beforeUnmount),afterUnmount:e.afterUnmount||(t==null?void 0:t.afterUnmount),activated:e.activated||(t==null?void 0:t.activated),deactivated:e.deactivated||(t==null?void 0:t.deactivated),loadError:e.loadError||(t==null?void 0:t.loadError)}}}function De(e,t,r){var n;typeof window.CustomEvent=="function"?n=new CustomEvent(t,{detail:r}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!1,r)),e.dispatchEvent(n)}function Rr(){throw G(wn),new Error(wr)}var Un=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,An=/<(script)\s+((?!type=('|")text\/ng-template\3)[^])*?>[^]*?<\/\1>/i,Mt=/.*\ssrc=('|")?([^>'"\s]+)/,xn=/.*\stype=('|")?([^>'"\s]+)/,Mn=/.*\sentry\s*.*/,Dn=/.*\sasync\s*.*/,Nn=/.*\sdefer\s*.*/,Wn=/.*\snomodule\s*.*/,kn=/.*\stype=('|")?module('|")?\s*.*/,Jn=/<(link)\s+[^]*?>/gi,$n=/\srel=('|")?(preload|prefetch|modulepreload)\1/,Dt=/.*\shref=('|")?([^>'"\s]+)/,Fn=/.*\sas=('|")?font\1.*/,Hn=/<style[^>]*>[\s\S]*?<\/style>/gi,Bn=/\s+rel=('|")?stylesheet\1.*/,Gn=/.*\shref=('|")?([^>'"\s]+)/,Qn=/<!--([\s\S]*?)-->/g,qn=/<link(\s+|\s+[^]+\s+)ignore(\s*|\s+[^]*|=[^]*)>/i,Yn=/<style(\s+|\s+[^]+\s+)ignore(\s*|\s+[^]*|=[^]*)>/i,Xn=/<script(\s+|\s+[^]+\s+)ignore(\s*|\s+[^]*|=[^]*)>/i,Vn=/.*\scrossorigin=?('|")?(use-credentials|anonymous)?('|")?/i;function Nt(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function Wt(e,t){return new URL(e,t).toString()}function zn(e){var t=["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript","importmap"];return!e||t.indexOf(e)!==-1}function pe(e){var t=/<[-\w]+\s+([^>]*)>/i,r=t.exec(e);if(!r)return{};for(var n=r[1],o=/([^\s=]+)\s*=\s*(['"])(.*?)\2/g,i={},a;(a=o.exec(n))!==null;){var l=a[1],c=a[3];i[l]=c}return i}function Zn(){var e=window.document.createElement("script");return"noModule"in e}var st=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return"<!-- ".concat(r?"prefetch/preload/modulepreload":""," link ").concat(t," replaced by wujie -->")},Ur=function(t){return"<!-- inline-style-".concat(t," replaced by wujie -->")},Kn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"<!-- ".concat(r," script ").concat(t," replaced by wujie -->")},eo="<!-- inline scripts replaced by wujie -->",Ne=function(t){return"<!-- ignore asset ".concat(t||"file"," replaced by wujie -->")},kt=function(t,r){return"<!-- ".concat(r?"nomodule":"module"," script ").concat(t," ignored by wujie -->")};function to(e,t,r){var n=[],o=[],i=null,a=Zn(),l=e.replace(Qn,"").replace(Jn,function(u){var s=!!u.match(Bn);if(s){var b=u.match(Gn),p=u.match(qn);if(b){var f=b&&b[2],w=f;return f&&!Nt(f)&&(w=Wt(f,t)),p?Ne(w):(o.push({src:w}),st(w))}}var y=u.match($n)&&u.match(Dt)&&!u.match(Fn);if(y){var g=u.match(Dt),E=Ae(g,3),_=E[2];return st(_,!0)}return u}).replace(Hn,function(u){if(Yn.test(u))return Ne("style file");var s=lt(u);return o.push({src:"",content:s}),Ur(o.length-1)}).replace(Un,function(u,s){var b=s.match(Xn),p=!!s.match(kn),f=s.match(Vn),w=(f==null?void 0:f[2])||"",y=a&&!!s.match(Wn)||!a&&p,g=s.match(xn),E=g&&g[2];if(!zn(E))return u;if(An.test(u)&&s.match(Mt)){var _=s.match(Mn),j=s.match(Mt),L=j&&j[2];if(i&&_)throw new SyntaxError("You should not set multiply entry script!");if(L&&!Nt(L)&&(L=Wt(L,t)),i=i||_&&L,b)return Ne(L||"js file");if(y)return kt(L||"js file",a);if(L){var U=!!s.match(Dn),M=!!s.match(Nn);return n.push(U||M?{async:U,defer:M,src:L,module:p,crossorigin:!!f,crossoriginType:w,attrs:pe(u)}:{src:L,module:p,crossorigin:!!f,crossoriginType:w,attrs:pe(u)}),Kn(L,U&&"async"||M&&"defer"||"")}return u}else{if(b)return Ne("js file");if(y)return kt("js file",a);var R=lt(u),J=R.split(/[\r\n]+/).every(function(A){return!A.trim()||A.trim().startsWith("//")});return!J&&R&&n.push({src:"",content:R,module:p,crossorigin:!!f,crossoriginType:w,attrs:pe(u)}),eo}}),c={template:l,scripts:n,styles:o,entry:i||n[n.length-1]};return typeof r=="function"&&(c=r(c)),c}function ft(e){var t=e.plugins,r=e.replace;return function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;return Ke(t.map(function(a){return a.cssLoader}))(r?r(n):n,o,i)}}function ro(e){var t=e.plugins,r=e.replace;return function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;return Ke(t.map(function(a){return a.jsLoader}))(r?r(n):n,o,i)}}function Qe(e,t){var r=t.map(function(o){return o[e]}).filter(function(o){return o==null?void 0:o.length}),n=r.reduce(function(o,i){return o.concat(i)},[]);return e==="cssBeforeLoaders"?n.reverse():n}function ae(e,t){return t.map(function(r){return r[e]}).filter(function(r){return r==null?void 0:r.length}).reduce(function(r,n){return r.concat(n)},[])}function ue(e,t){return t.some(function(r){return typeof r=="string"?e===r:r.test(e)})}function no(e,t,r){var n=t?le(t,r):r,o=/url\((['"]?)((?:[^()]+|\((?:[^()]+|\([^()]*\))*\))*)(\1)\)/g;return e.replace(o,function(i,a,l,c){var u=/^data:/,s=u.test(l);return s?i:"url(".concat(a).concat(le(l,n)).concat(c,")")})}var Jt={cssLoader:no,cssBeforeLoaders:[{content:"html {view-transition-name: none;}"}]};function Ar(e){return Array.isArray(e)?[Jt].concat(Ve(e)):[Jt]}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$t(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var oo={},it={},at={};if(!window.fetch)throw ee(_n),new Error;var Pt=window.fetch.bind(window);function io(e){return e}function xr(e,t,r){return dt.apply(this,arguments)}function dt(){return dt=Z(F.mark(function e(t,r,n){var o,i,a,l;return F.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=Ze(t.proxyLocation),i=Ke(t.plugins.map(function(s){return s.cssLoader})),a=n().map(function(s){var b=s.src,p=s.ignore,f=s.contentPromise;return{src:b,ignore:p,contentPromise:f.then(function(w){return i(w,b,o)})}}),u.next=5,ao(r,a);case 5:return l=u.sent,u.abrupt("return",t.replace?t.replace(l):l);case 7:case"end":return u.stop()}},e)})),dt.apply(this,arguments)}function ao(e,t){return pt.apply(this,arguments)}function pt(){return pt=Z(F.mark(function e(t,r){var n;return F.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t,i.abrupt("return",Promise.all(r.map(function(a,l){return a.contentPromise.then(function(c){a.src?n=n.replace(st(a.src),a.ignore?'<link href="'.concat(a.src,'" rel="stylesheet" type="text/css">'):"<style>/* ".concat(a.src," */").concat(c,"</style>")):c&&(n=n.replace(Ur(l),"<style>/* inline-style-".concat(l," */").concat(c,"</style>")))})})).then(function(){return n}));case 2:case"end":return i.stop()}},e)})),pt.apply(this,arguments)}var uo=function(t){return t.startsWith("<")},$e=function(t,r,n,o,i){return r[t]||(r[t]=n(t).then(function(a){if(a.status>=400){if(r[t]=null,o)return ee(rt,{src:t,response:a}),i==null||i(t,new Error(rt)),"";throw ee(je,{src:t,response:a}),i==null||i(t,new Error(je)),new Error(je)}return a.text()}).catch(function(a){return r[t]=null,o?(ee(rt,t),i==null||i(t,a),""):(ee(je,t),i==null||i(t,a),"")}))};function qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,r=arguments.length>2?arguments[2]:void 0;return e.map(function(n){var o=n.src,i=n.content,a=n.ignore;return i?{src:"",contentPromise:Promise.resolve(i)}:uo(o)?{src:"",contentPromise:Promise.resolve(lt(o))}:{src:o,ignore:a,contentPromise:a?Promise.resolve(""):$e(o,oo,t,!0,r)}})}function Mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e.map(function(o){var i=o.src,a=o.async,l=o.defer,c=o.module,u=o.ignore,s=null;return(a||l)&&i&&!c?s=new Promise(function(b,p){return n?Ot(function(){return $e(i,it,t,!1,r).then(b,p)}):$e(i,it,t,!1,r).then(b,p)}):c&&i||u?s=Promise.resolve(""):i?s=$e(i,it,t,!1,r):s=Promise.resolve(o.content),c&&!a&&(o.defer=!0),we(we({},o),{},{contentPromise:s})})}function ht(e){var t,r,n=e.url,o=e.opts,i=e.html,a=(t=o.fetch)!==null&&t!==void 0?t:Pt,l=(r=o.fiber)!==null&&r!==void 0?r:!0,c=o.plugins,u=o.loadError,s=c?Ke(c.map(function(E){return E.htmlLoader})):io,b=ae("jsExcludes",c),p=ae("cssExcludes",c),f=ae("jsIgnores",c),w=ae("cssIgnores",c),y=Cn,g=function(_,j,L){return(j?Promise.resolve(j):a(_).then(function(U){return U.status>=400?(ee(Ut,{url:_,response:U}),u==null||u(_,new Error(Ut)),""):U.text()}).catch(function(U){return at[_]=null,u==null||u(_,U),Promise.reject(U)})).then(function(U){var M=y(_),R=to(L(U),M),J=R.template,A=R.scripts,x=R.styles;return{template:J,assetPublicPath:M,getExternalScripts:function(){return Mr(A.filter(function(D){return!D.src||!ue(D.src,b)}).map(function(D){return we(we({},D),{},{ignore:D.src&&ue(D.src,f)})}),a,u,l)},getExternalStyleSheets:function(){return qe(x.filter(function(D){return!D.src||!ue(D.src,p)}).map(function(D){return we(we({},D),{},{ignore:D.src&&ue(D.src,w)})}),a,u)}}})};return o!=null&&o.plugins.some(function(E){return E.htmlLoader})?g(n,i,s):at[n]||(at[n]=g(n,i,s))}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function It(e,t,r){return t&&Ft(e.prototype,t),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function co(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lo(e,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return co(e)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Re(e)}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ue(e,t)}function so(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}function fo(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function po(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fe(e,t,r){return po()?Fe=Reflect.construct.bind():Fe=function(o,i,a){var l=[null];l.push.apply(l,i);var c=Function.bind.apply(o,l),u=new c;return a&&Ue(u,a.prototype),u},Fe.apply(null,arguments)}function vt(e){var t=typeof Map=="function"?new Map:void 0;return vt=function(n){if(n===null||!fo(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Fe(n,arguments,Re(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Ue(o,n)},vt(e)}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ht(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var V=function(e){if((e=window.__WUJIE_INJECT)!==null&&e!==void 0&&e.idToSandboxMap)return window.__WUJIE_INJECT.idToSandboxMap;var t=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.idToSandboxMap:new Map;return window.__WUJIE_INJECT=_e(_e({},window.__WUJIE_INJECT),{},{idToSandboxMap:t}),t}();function ne(e){var t;return((t=V.get(e))===null||t===void 0?void 0:t.wujie)||null}function Dr(e){var t;return((t=V.get(e))===null||t===void 0?void 0:t.options)||null}function ho(e,t){var r=V.get(e);r?V.set(e,_e(_e({},r),{},{wujie:t})):V.set(e,{wujie:t})}function vo(e){var t=V.get(e);t!=null&&t.options&&V.set(e,{options:t.options}),V.delete(e)}function mo(e,t){var r=V.get(e);r?V.set(e,_e(_e({},r),{},{options:t})):V.set(e,{options:t})}var B={modifyLocalProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName","getElementById"],modifyProperties:["createElement","createTextNode","documentURI","URL","getElementsByTagName","getElementsByClassName","getElementsByName","getElementById","querySelector","querySelectorAll","documentElement","scrollingElement","forms","images","links"],shadowProperties:["activeElement","childElementCount","children","firstElementChild","firstChild","fullscreenElement","lastElementChild","pictureInPictureElement","pointerLockElement","styleSheets"],shadowMethods:["append","contains","getSelection","elementFromPoint","elementsFromPoint","getAnimations","replaceChildren"],documentProperties:["characterSet","compatMode","contentType","designMode","dir","doctype","embeds","fullscreenEnabled","hidden","implementation","lastModified","pictureInPictureEnabled","plugins","readyState","referrer","visibilityState","fonts"],documentMethods:["execCommand","caretPositionFromPoint","createRange","exitFullscreen","exitPictureInPicture","getElementsByTagNameNS","hasFocus","prepend"],documentEvents:["onpointerlockchange","onpointerlockerror","onbeforecopy","onbeforecut","onbeforepaste","onfreeze","onresume","onsearch","onfullscreenchange","onfullscreenerror","onsecuritypolicyviolation","onvisibilitychange"],ownerProperties:["head","body"]},Bt=["DOMContentLoaded","readystatechange"],yo=["onreadystatechange"],Gt=["fullscreenchange","fullscreenerror","selectionchange","visibilitychange","wheel","keydown","keypress","keyup"],Qt=["gotpointercapture","lostpointercapture"],qt=["hashchange","popstate","DOMContentLoaded","load","beforeunload","unload","message","error","unhandledrejection"],go=["onload","onbeforeunload","onunload","onerror","onunhandledrejection"],Eo={IMG:"src",A:"href",SOURCE:"src"},bo=["getComputedStyle","visualViewport","matchMedia","DOMParser"],wo=[/animationFrame$/i,/resizeObserver$|mutationObserver$|intersectionObserver$/i,/height$|width$|left$/i,/^screen/i,/CSSStyleSheet$/i,/X$|Y$/],Nr=HTMLElement.prototype.appendChild,Wr=HTMLElement.prototype.removeChild,Yt=HTMLElement.prototype.contains,_o=HTMLHeadElement.prototype.insertBefore,So=HTMLBodyElement.prototype.insertBefore,Xt=HTMLStyleElement.prototype.insertAdjacentElement,Tt=Node.prototype.addEventListener,tt=Node.prototype.removeEventListener,Vt=window.addEventListener,zt=window.removeEventListener,he=Node.prototype.appendChild,ve=window.__POWERED_BY_WUJIE__?window.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__:Document.prototype.querySelector;function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zt(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oo(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function We(e,t){var r=new CustomEvent(t),n=Oo(r,function(){return e});ce(e["on".concat(t)])?e["on".concat(t)](n):e.dispatchEvent(n)}function fe(e,t){if(!(!e.innerHTML||t.degrade)){var r=function(){var o=Gr([e.sheet]),i=Ae(o,2),a=i[0],l=i[1];a&&t.shadowRoot.head.appendChild(a),l&&t.shadowRoot.host.appendChild(l),e._patcher=void 0};e._patcher&&clearTimeout(e._patcher),e._patcher=setTimeout(r,50)}}function Po(e,t,r,n){var o;if(e._hasPatchStyle)return;var i=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),a=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerText"),l=Object.getOwnPropertyDescriptor(Node.prototype,"textContent"),c=(o=e.sheet)===null||o===void 0?void 0:o.insertRule;function u(){c&&(e.sheet.insertRule=function(s,b){return i?e.innerHTML+=s:e.innerText+=s,c.call(e.sheet,s,b)})}u(),i&&Object.defineProperties(e,{innerHTML:{get:function(){return i.get.call(e)},set:function(b){var p=this;i.set.call(e,t(b,"",n)),Te(function(){return fe(p,r)})}}}),Object.defineProperties(e,{innerText:{get:function(){return a.get.call(e)},set:function(b){var p=this;a.set.call(e,t(b,"",n)),Te(function(){return fe(p,r)})}},textContent:{get:function(){return l.get.call(e)},set:function(b){var p=this;l.set.call(e,t(b,"",n)),Te(function(){return fe(p,r)})}},appendChild:{value:function(b){var p=this;if(Te(function(){return fe(p,r)}),b.nodeType===Node.TEXT_NODE){var f=he.call(e,e.ownerDocument.createTextNode(t(b.textContent,"",n)));return u(),f}else return he(b)}},insertAdjacentElement:{value:function(b,p){if(p.nodeName==="STYLE"){Te(function(){return fe(p,r)});var f=Xt.call(this,b,p);return r.styleSheetElements.push(p),f}else return Xt.call(this,b,p)}},_hasPatchStyle:{get:function(){return!0}}})}var Kt=Promise.resolve();function ke(e){return function(r,n){var o=this,i=r,a=e.rawDOMAppendOrInsertBefore,l=e.wujieId,c=ne(l),u=c.styleSheetElements,s=c.replace,b=c.fetch,p=c.plugins,f=c.iframe,w=c.lifecycles,y=c.proxyLocation,g=c.fiber;if(!Ln(i.tagName)||!l){var E=a.call(this,i,n);return re(i,f.contentWindow),X(p,"appendOrInsertElementHook",i,f.contentWindow),E}var _=f.contentDocument,j=Ze(y);if(i.tagName){var L;switch((L=i.tagName)===null||L===void 0?void 0:L.toUpperCase()){case"LINK":{var U=i,M=U.href,R=U.rel,J=U.type,A=R==="stylesheet"||J==="text/css"||M.endsWith(".css");if(!A){var x=a.call(this,i,n);return X(p,"appendOrInsertElementHook",i,f.contentWindow),x}M&&!ue(M,ae("cssExcludes",p))&&qe([{src:M,ignore:ue(M,ae("cssIgnores",p))}],b,w.loadError).forEach(function(H){var q=H.src,se=H.ignore,xe=H.contentPromise;return xe.then(function(en){var tn=pe(i.outerHTML);if(se&&q)a.call(o,i,n);else{var Le=_.createElement("style"),rn=ft({plugins:p,replace:s});Le.innerHTML=rn(en,q,j),u.push(Le),ze(Le,tn),a.call(o,Le,n),fe(Le,c),We(i,"load")}i=null},function(){We(i,"error"),i=null})});var k=_.createComment("dynamic link ".concat(M," replaced by wujie"));return a.call(this,k,n)}case"STYLE":{var D=r;u.push(D);var O=D.innerHTML,m=ft({plugins:p,replace:s});O&&(D.innerHTML=m(O,"",j));var I=a.call(this,i,n);return Po(D,m,c,j),fe(D,c),X(p,"appendOrInsertElementHook",i,f.contentWindow),I}case"SCRIPT":{Tr(i);var h=i,d=h.src,v=h.text,S=h.type,T=h.crossOrigin;if(d&&!ue(d,ae("jsExcludes",p))){var P=function(q){if(c.iframe===null)return G(At);var se=function(){We(i,"load"),i=null};z(Ee(Ee({},q),{},{onload:se}),c.iframe.contentWindow,i)},C={src:d,module:S==="module",crossorigin:T!==null,crossoriginType:T||"",ignore:ue(d,ae("jsIgnores",p)),attrs:pe(i.outerHTML)};Mr([C],b,w.loadError,g).forEach(function(H){Kt=Kt.then(function(){return H.contentPromise.then(function(q){var se;if(c.execQueue===null)return G(At);var xe=(se=c.execQueue)===null||se===void 0?void 0:se.length;c.execQueue.push(function(){return g?c.requestIdleCallback(function(){P(Ee(Ee({},H),{},{content:q}))}):P(Ee(Ee({},H),{},{content:q}))}),xe||c.execQueue.shift()()},function(){We(i,"error"),i=null})})})}else{var N,$=(N=c.execQueue)===null||N===void 0?void 0:N.length;c.execQueue.push(function(){return g?c.requestIdleCallback(function(){z({src:null,content:v,attrs:pe(i.outerHTML)},c.iframe.contentWindow,i)}):z({src:null,content:v,attrs:pe(i.outerHTML)},c.iframe.contentWindow,i)}),$||c.execQueue.shift()()}var Q=_.createComment("dynamic script ".concat(d," replaced by wujie"));return a.call(this,Q,n)}case"IFRAME":{if(i.getAttribute(Er)==="")return he.call(ve.call(this.ownerDocument,"html"),i);var W=a.call(this,i,n);return X(p,"appendOrInsertElementHook",i,f.contentWindow),W}}}}}function kr(e,t){var r=jr(e),n=ne(t),o=n.iframe,i=o.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.querySelector("script[".concat(He,"='").concat(r,"']"));return i===null&&G(On,"<script ".concat(He,"='").concat(r,"'/>")),{targetScript:i,iframe:o}}function er(e){return function(r){var n=r,o=e.rawElementContains,i=e.wujieId;if(n&&et(n)){var a=kr(n,i),l=a.targetScript;return l!==null}return o(n)}}function Lo(e){return function(r){var n=r,o=e.rawElementRemoveChild,i=e.wujieId;if(n&&et(n)){var a=kr(n,i),l=a.targetScript,c=a.iframe;return l!==null?c.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.removeChild(l):null}return o(n)}}function tr(e){var t=new Map;e._cacheListeners=t,e.addEventListener=function(r,n,o){var i=t.get(r)||[];return t.set(r,[].concat(Ve(i),[n])),Tt.call(e,r,n,o)},e.removeEventListener=function(r,n,o){var i=t.get(r),a=i==null?void 0:i.indexOf(n);return i!=null&&i.length&&a!==-1&&i.splice(a,1),tt.call(e,r,n,o)}}function rr(e){var t=e._cacheListeners;Ve(t.entries()).forEach(function(r){var n=Ae(r,2),o=n[0],i=n[1];i.forEach(function(a){return tt.call(e,o,a)})})}function Jr(e,t,r){r||(tr(e.head),tr(e.body)),e.head.appendChild=ke({rawDOMAppendOrInsertBefore:he,wujieId:t}),e.head.insertBefore=ke({rawDOMAppendOrInsertBefore:_o,wujieId:t}),e.head.removeChild=Lo({rawElementRemoveChild:Wr.bind(e.head),wujieId:t}),e.head.contains=er({rawElementContains:Yt.bind(e.head),wujieId:t}),e.contains=er({rawElementContains:Yt.bind(e),wujieId:t}),e.body.appendChild=ke({rawDOMAppendOrInsertBefore:he,wujieId:t}),e.body.insertBefore=ke({rawDOMAppendOrInsertBefore:So,wujieId:t})}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Io(e,t,r){return t=Re(t),lo(e,$r()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}function $r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($r=function(){return!!e})()}var To={":root":":host"};function jo(){var e=window.customElements;if(e&&!(e!=null&&e.get("wujie-app"))){var t=function(r){function n(){return Lt(this,n),Io(this,n,arguments)}return so(n,r),It(n,[{key:"connectedCallback",value:function(){if(!this.shadowRoot){var i=this.attachShadow({mode:"open"}),a=ne(this.getAttribute(Ce));re(i,a.iframe.contentWindow),a.shadowRoot=i}}},{key:"disconnectedCallback",value:function(){var i=ne(this.getAttribute(Ce));i==null||i.unmount()}}])}(vt(HTMLElement));e==null||e.define("wujie-app",t)}}function Co(e){var t=window.document.createElement("wujie-app");return t.setAttribute(Ce,e),t.classList.add(mn),t}function me(e,t){var r=Ir(t);return r&&!r.contains(e)&&(r.querySelector("div[".concat(_t,"]"))||de(r),e&&Nr.call(r,e)),r}function Fr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Ao(e,r),o=me(n,t),i=n.contentWindow.document;return i.open(),i.write("<!DOCTYPE html><html><head></head><body></body></html>"),i.close(),{iframe:n,container:o}}function Hr(e,t){return mt.apply(this,arguments)}function mt(){return mt=Z(F.mark(function e(t,r){var n,o,i,a,l,c,u,s;return F.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.iframe.contentDocument,o=t.plugins,i=t.replace,a=t.proxyLocation,l=ft({plugins:o,replace:i}),c=Qe("cssBeforeLoaders",o),u=Qe("cssAfterLoaders",o),s=Ze(a),p.next=8,Promise.all([Promise.all(qe(c,t.fetch,t.lifecycles.loadError).map(function(f){var w=f.src,y=f.contentPromise;return y.then(function(g){return{src:w,content:g}})})).then(function(f){f.forEach(function(w){var y=w.src,g=w.content;if(g){var E=n.createElement("style");E.setAttribute("type","text/css"),E.appendChild(n.createTextNode(g&&l(g,y,s)));var _=r.querySelector("head"),j=r.querySelector("body");r.insertBefore(E,_||j||r.firstChild)}})}),Promise.all(qe(u,t.fetch,t.lifecycles.loadError).map(function(f){var w=f.src,y=f.contentPromise;return y.then(function(g){return{src:w,content:g}})})).then(function(f){f.forEach(function(w){var y=w.src,g=w.content;if(g){var E=n.createElement("style");E.setAttribute("type","text/css"),E.appendChild(n.createTextNode(g&&l(g,y,s))),r.appendChild(E)}})})]).then(function(){return r},function(){return r});case 8:return p.abrupt("return",p.sent);case 9:case"end":return p.stop()}},e)})),mt.apply(this,arguments)}function Ro(e,t,r){var n=e.querySelector("head"),o=e.querySelector("body");if(n){for(;n.firstChild;)he.call(t,n.firstChild.cloneNode(!0)),n.removeChild(n.firstChild);n.parentNode.replaceChild(t,n)}if(o){for(;o.firstChild;)he.call(r,o.firstChild.cloneNode(!0)),o.removeChild(o.firstChild);o.parentNode.replaceChild(r,o)}return e}function Br(e,t){var r=e.__WUJIE,n=r.head,o=r.body,i=r.alive,a=r.execFlag,l=e.document,c=new DOMParser,u=c.parseFromString(t,"text/html"),s=u.documentElement,b=s.attributes,p=l.createElement("html");p.innerHTML=t;for(var f=0;f<b.length;f++)p.setAttribute(b[f].name,b[f].value);!i&&a?p=Ro(p,n,o):(r.head=p.querySelector("head"),r.body=p.querySelector("body"));for(var w=l.createTreeWalker(p,NodeFilter.SHOW_ELEMENT,null,!1),y=w.currentNode;y;){re(y,e);var g=Eo[y.tagName],E=y[g];g&&y.setAttribute(g,le(E,y.baseURI||"")),y=w.nextNode()}if(!p.querySelector("head")){var _=l.createElement("head");p.appendChild(_)}if(!p.querySelector("body")){var j=l.createElement("body");p.appendChild(j)}return p}function Uo(e,t,r){return yt.apply(this,arguments)}function yt(){return yt=Z(F.mark(function e(t,r,n){var o,i,a;return F.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=Br(r,n),c.next=3,Hr(r.__WUJIE,o);case 3:i=c.sent,t.appendChild(i),a=document.createElement("div"),a.setAttribute("style",yn),i.insertBefore(a,i.firstChild),t.head=t.querySelector("head"),t.body=t.querySelector("body"),Object.defineProperty(t.firstChild,"parentNode",{enumerable:!0,configurable:!0,get:function(){return r.document}}),Jr(t,r.__WUJIE.id,!1);case 12:case"end":return c.stop()}},e)})),yt.apply(this,arguments)}function Ao(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("iframe"),n="height:100%;width:100%";return ze(r,or(or({},t),{},K({style:[n,t.style].join(";")},Ce,e))),r}function ir(e,t,r){return gt.apply(this,arguments)}function gt(){return gt=Z(F.mark(function e(t,r,n){var o,i;return F.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=Br(r,n),l.next=3,Hr(r.__WUJIE,o);case 3:i=l.sent,t.replaceChild(i,t.documentElement),Object.defineProperty(t.documentElement,"parentNode",{enumerable:!0,configurable:!0,get:function(){return r.document}}),Jr(t,r.__WUJIE.id,!0);case 7:case"end":return l.stop()}},e)})),gt.apply(this,arguments)}function de(e){for(;e!=null&&e.firstChild;)Wr.call(e,e.firstChild)}function xo(e,t){var r=Ir(e);de(r);var n=null;try{n=window.getComputedStyle(r)}catch{return}n.position==="static"?(r.setAttribute(ct,n.position),r.setAttribute(Be,n.overflow==="visible"?"":n.overflow),r.style.setProperty("position","relative"),r.style.setProperty("overflow","hidden")):["relative","sticky"].includes(n.position)&&(r.setAttribute(Be,n.overflow==="visible"?"":n.overflow),r.style.setProperty("overflow","hidden"));var o=document.createElement("div");o.setAttribute(_t,""),o.setAttribute("style",gn),t?o.appendChild(t):o.innerHTML=En,r.appendChild(o)}function ar(e){var t=e.getAttribute(ct),r=e.getAttribute(Be);t&&e.style.removeProperty("position"),r!==null&&(r?e.style.setProperty("overflow",r):e.style.removeProperty("overflow")),e.removeAttribute(ct),e.removeAttribute(Be);var n=e.querySelector("div[".concat(_t,"]"));n&&e.removeChild(n)}function Gr(e){for(var t=[],r=[],n=/:root/g,o=0;o<e.length;o++)for(var i,a,l=(i=(a=e[o])===null||a===void 0?void 0:a.cssRules)!==null&&i!==void 0?i:[],c=0;c<l.length;c++){var u=l[c].cssText;n.test(u)&&t.push(u.replace(n,function(p){return To[p]})),l[c].type===CSSRule.FONT_FACE_RULE&&r.push(u)}var s=null,b=null;return t.length&&(s=window.document.createElement("style"),s.innerHTML=t.join("")),r.length&&(b=window.document.createElement("style"),b.innerHTML=r.join("")),[s,b]}function Se(e){var t=e.__WUJIE,r=t.sync,n=t.id,o=t.prefix,i=te(window.location.href),a=Pe(i);if(!r&&!a[n])return i=null;var l=e.location.pathname+e.location.search+e.location.hash,c="";o&&Object.keys(o).forEach(function(s){var b=o[s];l.startsWith(b)&&(!c||b.length>o[c].length)&&(c=s)}),r?a[n]=window.encodeURIComponent(c?l.replace(o[c],"{".concat(c,"}")):l):delete a[n];var u="?"+Object.keys(a).map(function(s){return s+"="+a[s]}).join("&");i.search=u,i.href!==window.location.href&&window.history.replaceState(null,"",i.href),i=null}function Mo(e){var t=e.location,r=t.pathname,n=t.search,o=t.hash,i=e.__WUJIE,a=i.id,l=i.url,c=i.sync,u=i.execFlag,s=i.prefix,b=i.inject,p=c&&!u?jn(a,s):l,f=(/^http/.test(p)?null:p)||l,w=Pr(f),y=w.appRoutePath,g=r+n+o;g!==y&&e.history.replaceState(null,"",b.mainHostPath+y)}function Do(){var e=te(window.location.href),t=Pe(e);Object.keys(t).forEach(function(n){var o=ne(n);o&&o.execFlag&&o.sync&&!o.hrefFlag&&!o.activeFlag&&delete t[n]});var r="?"+Object.keys(t).map(function(n){return n+"="+window.decodeURIComponent(t[n])}).join("&");e.search=r,e.href!==window.location.href&&window.history.replaceState(null,"",e.href),e=null}function No(e,t){var r=te(window.location.href),n=Pe(r);n[e]=window.encodeURIComponent(t);var o="?"+Object.keys(n).map(function(i){return i+"="+n[i]}).join("&");r.search=o,window.history.pushState(null,"",r.href),r=null}function Wo(){window.addEventListener("popstate",function(){var e=te(window.location.href),t=Pe(e);e=null,Object.keys(t).map(function(r){return ne(r)}).filter(function(r){return r}).forEach(function(r){var n=t[r.id],o=ve.call(r.iframe.contentDocument,"body");if(/http/.test(n))r.degrade?(me(r.document.documentElement,o),Xe(window.decodeURIComponent(n),Or(r.id).parentElement,r.degradeAttrs)):Xe(window.decodeURIComponent(n),r.shadowRoot.host.parentElement,r.degradeAttrs),r.hrefFlag=!0;else if(r.hrefFlag){if(r.degrade){var i=Fr(r.id,r.el,r.degradeAttrs),a=i.iframe;Qr(a.contentWindow,r.iframe.contentWindow),a.contentWindow.onunload=function(){r.unmount()},a.contentDocument.appendChild(o.firstElementChild),r.document=a.contentDocument}else me(r.shadowRoot.host,r.el);r.hrefFlag=!1}})})}function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ur(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ko(e){e.__WUJIE_EVENTLISTENER__=e.__WUJIE_EVENTLISTENER__||new Set,e.addEventListener=function(r,n,o){if(X(e.__WUJIE.plugins,"windowAddEventListenerHook",e,r,n,o),e.__WUJIE_EVENTLISTENER__.add({type:r,listener:n,options:o}),qt.includes(r)||ie(o)==="object"&&o.targetWindow){var i=ie(o)==="object"&&o.targetWindow?o==null?void 0:o.targetWindow:e;return Vt.call(i,r,n,o)}Vt.call(window.__WUJIE_RAW_WINDOW__||window,r,n,o)},e.removeEventListener=function(r,n,o){if(X(e.__WUJIE.plugins,"windowRemoveEventListenerHook",e,r,n,o),e.__WUJIE_EVENTLISTENER__.forEach(function(a){a.listener===n&&a.type===r&&o==a.options&&e.__WUJIE_EVENTLISTENER__.delete(a)}),qt.includes(r)||ie(o)==="object"&&o.targetWindow){var i=ie(o)==="object"&&o.targetWindow?o==null?void 0:o.targetWindow:e;return zt.call(i,r,n,o)}zt.call(window.__WUJIE_RAW_WINDOW__||window,r,n,o)}}function cr(e,t,r){e.__WUJIE=t,e.__WUJIE_PUBLIC_PATH__=r+"/",e.$wujie=t.provide,e.__WUJIE_RAW_WINDOW__=e}function Jo(e,t,r){var n=e.history,o=n.pushState,i=n.replaceState;n.pushState=function(a,l,c){var u=r+e.location.pathname+e.location.search+e.location.hash,s=le(c==null?void 0:c.replace(t,""),u),b=c===void 0;o.call(n,a,l,b?void 0:s),!b&&(lr(e,t,r),Se(e))},n.replaceState=function(a,l,c){var u=r+e.location.pathname+e.location.search+e.location.hash,s=le(c==null?void 0:c.replace(t,""),u),b=c===void 0;i.call(n,a,l,b?void 0:s),!b&&(lr(e,t,r),Se(e))}}function lr(e,t,r){var n,o=new URL((n=e.location.href)===null||n===void 0?void 0:n.replace(r,""),t),i=ve.call(e.document,"base");i&&i.setAttribute("href",t+o.pathname)}function $o(e){function t(n){var o=e[n];try{return typeof o=="function"&&!St(o)?e[n]=window[n].bind(window):e[n]=window[n],!0}catch(i){return G(i.message),!1}}Object.getOwnPropertyNames(e).forEach(function(n){if(n==="getSelection"){Object.defineProperty(e,n,{get:function(){return e.document[n]}});return}if(bo.includes(n)){t(n);return}wo.some(function(o){return o.test(n)&&n in e.parent?t(n):!1})});var r=Object.getOwnPropertyNames(window).filter(function(n){return/^on/.test(n)}).filter(function(n){return!go.includes(n)});r.forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n)||{enumerable:!0,writable:!0};try{Object.defineProperty(e,n,{enumerable:o.enumerable,configurable:!0,get:function(){return window[n]},set:o.writable||o.set?function(i){window[n]=typeof i=="function"?i.bind(e):i}:void 0})}catch(i){G(i.message)}}),X(e.__WUJIE.plugins,"windowPropertyOverride",e)}function Fo(e){var t=e.__WUJIE;e.Node.prototype.addEventListener=function(r,n,o){var i=t.elementEventCacheMap.get(this);return i?i.find(function(a){return a.type===r&&a.handler===n})||i.push({type:r,handler:n,options:o}):t.elementEventCacheMap.set(this,[{type:r,handler:n,options:o}]),Tt.call(this,r,n,o)},e.Node.prototype.removeEventListener=function(r,n,o){var i=t.elementEventCacheMap.get(this);if(i){var a=i==null?void 0:i.findIndex(function(l){return l.type===r&&l.handler===n});i.splice(a,1)}return i!=null&&i.length||t.elementEventCacheMap.delete(this),tt.call(this,r,n,o)}}function Ho(e,t){for(var r=t.__WUJIE,n=new WeakMap,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),i=o.currentNode;i;){var a=r.elementEventCacheMap.get(i);a!=null&&a.length&&(n.set(i,a),a.forEach(function(l){i.addEventListener(l.type,l.handler,l.options)})),i=o.nextNode()}r.elementEventCacheMap=n}function Bo(e,t,r){var n=r.__WUJIE,o=new WeakMap,i=n.elementEventCacheMap.get(e);i!=null&&i.length&&(o.set(t,i),i.forEach(function(a){t.addEventListener(a.type,a.handler,a.options)})),n.elementEventCacheMap=o}function Qr(e,t){Object.defineProperty(e.Event.prototype,"timeStamp",{get:function(){return t.document.createEvent("Event").timeStamp}})}function Go(e){var t=e.__WUJIE,r=new WeakMap,n=new WeakMap;e.Document.prototype.addEventListener=function(f,w,y){if(w){var g=r.get(w),E=n.get(w);if(g||(g=typeof w=="function"?w.bind(this):w,r.set(w,g)),E?E.includes(f)||E.push(f):n.set(w,[f]),X(e.__WUJIE.plugins,"documentAddEventListenerHook",e,f,g,y),Bt.includes(f))return Tt.call(this,f,g,y);if(t.degrade)return t.document.addEventListener(f,g,y);if(Gt.includes(f))return window.document.addEventListener(f,g,y);if(Qt.includes(f)){window.document.addEventListener(f,g,y),t.shadowRoot.addEventListener(f,g,y);return}t.shadowRoot.addEventListener(f,g,y)}},e.Document.prototype.removeEventListener=function(f,w,y){var g=r.get(w),E=n.get(w);if(g){if(E!=null&&E.includes(f)&&(E.splice(E.indexOf(f),1),E.length||(r.delete(w),n.delete(w))),X(e.__WUJIE.plugins,"documentRemoveEventListenerHook",e,f,g,y),Bt.includes(f))return tt.call(this,f,g,y);if(t.degrade)return t.document.removeEventListener(f,g,y);if(Gt.includes(f))return window.document.removeEventListener(f,g,y);if(Qt.includes(f)){window.document.removeEventListener(f,g,y),t.shadowRoot.removeEventListener(f,g,y);return}t.shadowRoot.removeEventListener(f,g,y)}};var o=Object.keys(e.HTMLElement.prototype).filter(function(f){return/^on/.test(f)}),i=Object.keys(e.Document.prototype).filter(function(f){return/^on/.test(f)}).filter(function(f){return!yo.includes(f)});o.filter(function(f){return i.includes(f)}).forEach(function(f){var w=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:w.enumerable,configurable:!0,get:function(){return t.degrade?t.document[f]:t.shadowRoot.firstElementChild[f]},set:w.writable||w.set?function(y){var g=typeof y=="function"?y.bind(e.document):y;t.degrade?t.document[f]=g:t.shadowRoot.firstElementChild[f]=g}:void 0})}catch(y){G(y.message)}});var a=B.ownerProperties,l=B.modifyProperties,c=B.shadowProperties,u=B.shadowMethods,s=B.documentProperties,b=B.documentMethods,p=B.documentEvents;l.concat(c,u,s,b).forEach(function(f){var w=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:w.enumerable,configurable:!0,get:function(){return t.proxyDocument[f]},set:void 0})}catch(y){G(y.message)}}),p.forEach(function(f){var w=Object.getOwnPropertyDescriptor(e.Document.prototype,f)||{enumerable:!0,writable:!0};try{Object.defineProperty(e.Document.prototype,f,{enumerable:w.enumerable,configurable:!0,get:function(){return(t.degrade?t:window).document[f]},set:w.writable||w.set?function(y){(t.degrade?t:window).document.removeEventListener(f,r.get(y)),(t.degrade?t:window).document.addEventListener(f,typeof y=="function"?y.bind(e.document):y),r.set(y,y.bind(e.document))}:void 0})}catch(y){G(y.message)}}),a.forEach(function(f){Object.defineProperty(e.document,f,{enumerable:!0,configurable:!0,get:function(){return t.proxyDocument[f]},set:void 0})}),X(e.__WUJIE.plugins,"documentPropertyOverride",e)}function Qo(e){var t=e.Node.prototype.getRootNode,r=e.Node.prototype.appendChild,n=e.Node.prototype.insertBefore,o=e.Node.prototype.removeChild;e.Node.prototype.getRootNode=function(i){var a=t.call(this,i);return a===e.__WUJIE.shadowRoot?e.document:a},e.Node.prototype.appendChild=function(i){var a=r.call(this,i);return re(i,e),a},e.Node.prototype.insertBefore=function(i,a){var l=n.call(this,i,a);return re(i,e),l},e.Node.prototype.removeChild=function(i){var a;try{a=o.call(this,i)}catch{var l;console.warn("Failed to removeChild: ".concat(i.nodeName.toLowerCase()," is not a child of ").concat(this.nodeName.toLowerCase(),", try again with parentNode attribute. ")),i.isConnected&&ce((l=i.parentNode)===null||l===void 0?void 0:l.removeChild)&&i.parentNode.removeChild(i)}return re(i,e),a}}function qo(e){ge(e,e.HTMLImageElement,"src"),ge(e,e.HTMLAnchorElement,"href"),ge(e,e.HTMLSourceElement,"src"),ge(e,e.HTMLLinkElement,"href"),ge(e,e.HTMLScriptElement,"src"),ge(e,e.HTMLMediaElement,"src")}function Yo(e,t){var r=e.document,n=r.createElement("base"),o=te(e.location.href),i=te(t);n.setAttribute("href",i.protocol+"//"+i.host+o.pathname),r.head.appendChild(n)}function Xo(e,t,r,n){var o=e.document,i=window.document.implementation.createHTMLDocument(""),a=o.importNode(i.documentElement,!0);o.documentElement?o.replaceChild(a,o.documentElement):o.appendChild(a),e.__WUJIE_RAW_DOCUMENT_HEAD__=o.head,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__=e.Document.prototype.querySelector,e.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__=e.Document.prototype.querySelectorAll,e.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__=e.Document.prototype.createElement,e.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__=e.Document.prototype.createTextNode,Yo(e,t.url),Jo(e,n,r),ko(e),t.degrade&&Fo(e),Vo(e),$o(e),Go(e),Qo(e),qo(e)}function qr(e,t){var r=e.contentWindow,n=r.document,o=Date.now()+5e3;return new Promise(function(i){function a(){setTimeout(function(){var l;try{l=r.document}catch{l=null}if((!l||l==n)&&Date.now()<o){a();return}if(t){var c=r.location.href;l.open(),l.close();var u=Date.now()+1e3,s=function(){if(Date.now()>u){Ko(),e.src=t.mainHostPath,qr(e,!1).then(i);return}r.location.href===c?setTimeout(s,1):i()};s();return}r.stop?r.stop():l.execCommand("Stop"),i()},1)}a()})}function re(e,t){var r=t.__WUJIE.proxyLocation;if(!e._hasPatch){try{Object.defineProperties(e,{baseURI:{configurable:!0,get:function(){return r.protocol+"//"+r.host+r.pathname},set:void 0},ownerDocument:{configurable:!0,get:function(){return t.document}},_hasPatch:{get:function(){return!0}}})}catch(n){console.warn(n)}X(t.__WUJIE.plugins,"patchElementHook",e,t)}}function Vo(e){e.addEventListener("hashchange",function(){return Se(e)}),e.addEventListener("popstate",function(){Se(e)})}function z(e,t,r){var n=e,o=n.src,i=n.module,a=n.content,l=n.crossorigin,c=n.crossoriginType,u=n.async,s=n.attrs,b=n.callback,p=n.onload,f=t.document.createElement("script"),w=t.document.createElement("script"),y=t.__WUJIE,g=y.replace,E=y.plugins,_=y.proxyLocation,j=ro({plugins:E,replace:g}),L=j(a,o,Ze(_));if(s&&Object.keys(s).filter(function(x){return!Object.keys(e).includes(x)}).forEach(function(x){return f.setAttribute(x,String(s[x]))}),a){!t.__WUJIE.degrade&&!i&&(s==null?void 0:s.type)!=="importmap"&&(L=`(function(window, self, global, location) {
      `.concat(L,`
}).bind(window.__WUJIE.proxy)(
  window.__WUJIE.proxy,
  window.__WUJIE.proxy,
  window.__WUJIE.proxy,
  window.__WUJIE.proxyLocation,
);`));var U=Object.getOwnPropertyDescriptor(f,"src");if(U!=null&&U.configurable||!U)try{Object.defineProperty(f,"src",{get:function(){return o||""}})}catch(x){console.warn(x)}}else o&&f.setAttribute("src",o),l&&f.setAttribute("crossorigin",c);i&&f.setAttribute("type","module"),f.textContent=L||"",w.textContent="if(window.__WUJIE.execQueue && window.__WUJIE.execQueue.length){ window.__WUJIE.execQueue.shift()()}";var M=ve.call(t.document,"head"),R=function(){return!u&&M.appendChild(w)},J=function(){p==null||p(),R()};if(/^<!DOCTYPE html/i.test(L))return ee(je,e),R();r&&Tr(f,jr(r));var A=!a&&o;A&&(f.onload=J,f.onerror=J),M.appendChild(f),b==null||b(t),X(E,"appendOrInsertElementHook",f,t,r),!A&&J()}function Xe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=window.document.createElement("iframe"),o="height:100%;width:100%";ze(n,Ye(Ye({},r),{},{src:e,style:[o,r.style].join(";")})),me(n,t)}var zo=function(){var e="wujie:disableSandboxEmptyPageURL",t=!1;try{t=localStorage.getItem(e)==="true"}catch{}if(t||typeof URL>"u"||typeof URL.createObjectURL!="function")return[function(){return""},function(){}];var r="",n=function(){if(t)return"";if(r)return r;var a=new Blob(["<!DOCTYPE html><html><head></head><body></body></html>"],{type:"text/html"});return r=URL.createObjectURL(a),r},o=function(){t=!0;try{localStorage.setItem(e,"true")}catch{}};return[n,o]}(),Yr=Ae(zo,2),Zo=Yr[0],Ko=Yr[1];function ei(e,t,r,n,o){var i=t&&t.src,a=!1;i||(i=Zo(),a=!!i,i||(i=r));var l=window.document.createElement("iframe"),c=Ye(Ye({style:"display: none"},t),{},K({src:i,name:e.id},Er,""));ze(l,c),window.document.body.appendChild(l);var u=l.contentWindow;return cr(u,e,n),e.iframeReady=qr(l,a&&{mainHostPath:r}).then(function(){u.__WUJIE||cr(u,e,n),Xo(u,e,r,n),Lr(u.__WUJIE.id)||u.history.replaceState(null,"",r+o)}),l}function Xr(e,t,r){var n=e.contentWindow.__WUJIE,o=n.shadowRoot,i=n.id,a=n.degrade,l=n.document,c=n.degradeAttrs,u=t;if(!/^http/.test(u)){var s=te(u);u=r+s.pathname+s.search+s.hash,s=null}if(e.contentWindow.__WUJIE.hrefFlag=!0,a){var b=ve.call(e.contentDocument,"body");me(l.documentElement,b),Xe(window.decodeURIComponent(u),Or(i).parentElement,c)}else Xe(u,o.host.parentElement,c);return No(i,u),!0}function ti(e,t,r,n){var o=new Proxy(e.contentWindow,{get:function(c,u){if(u==="location")return c.__WUJIE.proxyLocation;if(u==="self"||u==="window"&&Object.getOwnPropertyDescriptor(window,"window").get)return c.__WUJIE.proxy;if(u==="__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__"||u==="__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__")return c[u];var s=Object.getOwnPropertyDescriptor(c,u);return(s==null?void 0:s.configurable)===!1&&(s==null?void 0:s.writable)===!1?c[u]:Ie(c,u)},set:function(c,u,s){return Tn(c,s),c[u]=s,!0},has:function(c,u){return u in c}}),i=new Proxy({},{get:function(c,u){var s=window.document,b=e.contentWindow.__WUJIE,p=b.shadowRoot,f=b.proxyLocation;p||Rr();var w=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__,y=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__;if(u==="createElement"||u==="createTextNode")return new Proxy(s[u],{apply:function(J,A,x){var k=u==="createElement"?w:y,D=k.apply(e.contentDocument,x);return re(D,e.contentWindow),D}});if(u==="documentURI"||u==="URL")return f.href;if(u==="getElementsByTagName"||u==="getElementsByClassName"||u==="getElementsByName")return new Proxy(p.querySelectorAll,{apply:function(J,A,x){var k=x[0];if(A!==e.contentDocument)return A[u].apply(A,x);if(u==="getElementsByTagName"&&k==="script")return e.contentDocument.scripts;u==="getElementsByClassName"&&(k="."+k),u==="getElementsByName"&&(k='[name="'.concat(k,'"]'));var D;try{D=J.call(p,k)}catch{D=[]}return D}});if(u==="getElementById")return new Proxy(p.querySelector,{apply:function(J,A,x){if(A!==e.contentDocument){var k;return(k=A[u])===null||k===void 0?void 0:k.apply(A,x)}try{return J.call(p,'[id="'.concat(x[0],'"]'))||e.contentWindow.__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__.call(e.contentWindow.document,"#".concat(x[0]))}catch{return G(Pn),null}}});if(u==="querySelector"||u==="querySelectorAll"){var g={querySelector:"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__",querySelectorAll:"__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__"};return new Proxy(p[u],{apply:function(J,A,x){if(A!==e.contentDocument){var k;return(k=A[u])===null||k===void 0?void 0:k.apply(A,x)}return J.apply(p,x)||(x[0]==="base"?null:e.contentWindow[g[u]].call(e.contentWindow.document,x[0]))}})}if(u==="documentElement"||u==="scrollingElement")return p.firstElementChild;if(u==="forms")return p.querySelectorAll("form");if(u==="images")return p.querySelectorAll("img");if(u==="links")return p.querySelectorAll("a");var E=B.ownerProperties,_=B.shadowProperties,j=B.shadowMethods,L=B.documentProperties,U=B.documentMethods;if(E.concat(_).includes(u.toString()))return u==="activeElement"&&p.activeElement===null?p.body:p[u];if(j.includes(u.toString())){var M;return(M=Ie(p,u))!==null&&M!==void 0?M:Ie(s,u)}if(L.includes(u.toString()))return s[u];if(U.includes(u.toString()))return Ie(s,u)}}),a=new Proxy({},{get:function(c,u){var s=e.contentWindow.location;return u==="host"||u==="hostname"||u==="protocol"||u==="port"||u==="origin"?t[u]:u==="href"?s[u].replace(r,n):u==="reload"?(G(br),function(){return null}):u==="replace"?new Proxy(s[u],{apply:function(p,f,w){var y;return p.call(s,(y=w[0])===null||y===void 0?void 0:y.replace(n,r))}}):Ie(s,u)},set:function(c,u,s){return u==="href"?Xr(e,s,n):(e.contentWindow.location[u]=s,!0)},ownKeys:function(){return Object.keys(e.contentWindow.location).filter(function(c){return c!=="reload"})},getOwnPropertyDescriptor:function(c,u){return{enumerable:!0,configurable:!0,value:this[u]}}});return{proxyWindow:o,proxyDocument:i,proxyLocation:a}}function ri(e,t,r,n){var o={},i=e.contentWindow.__WUJIE;Object.defineProperties(o,{createElement:{get:function(){return function(){for(var _=arguments.length,j=new Array(_),L=0;L<_;L++)j[L]=arguments[L];var U=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_ELEMENT__.apply(e.contentDocument,j);return re(U,e.contentWindow),U}}},createTextNode:{get:function(){return function(){for(var _=arguments.length,j=new Array(_),L=0;L<_;L++)j[L]=arguments[L];var U=e.contentWindow.__WUJIE_RAW_DOCUMENT_CREATE_TEXT_NODE__.apply(e.contentDocument,j);return re(U,e.contentWindow),U}}},documentURI:{get:function(){return i.proxyLocation.href}},URL:{get:function(){return i.proxyLocation.href}},getElementsByTagName:{get:function(){return function(){var _=arguments.length<=0?void 0:arguments[0];return _==="script"?e.contentDocument.scripts:i.document.getElementsByTagName(_)}}},getElementById:{get:function(){return function(){var _=arguments.length<=0?void 0:arguments[0];return i.document.getElementById(_)||e.contentWindow.__WUJIE_RAW_DOCUMENT_HEAD__.querySelector("#".concat(_))}}}});var a=B.modifyLocalProperties,l=B.modifyProperties,c=B.ownerProperties,u=B.shadowProperties,s=B.shadowMethods,b=B.documentProperties,p=B.documentMethods;l.filter(function(E){return!a.includes(E)}).concat(c,u,s,b,p).forEach(function(E){Object.defineProperty(o,E,{get:function(){var j,L=(j=i.document)===null||j===void 0?void 0:j[E];return Ge(L)?L.bind(i.document):L}})});var f={},w=e.contentWindow.location,y=Object.keys(w),g=["host","hostname","port","protocol","port"];return g.forEach(function(E){f[E]=t[E]}),Object.defineProperties(f,{href:{get:function(){return w.href.replace(r,n)},set:function(_){Xr(e,_,n)}},reload:{get:function(){return G(br),function(){return null}}}}),y.filter(function(E){return!g.concat(["href","reload"]).includes(E)}).forEach(function(E){Object.defineProperty(f,E,{get:function(){return Ge(w[E])?w[E].bind(w):w[E]}})}),{proxyDocument:o,proxyLocation:f}}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var be=function(e){if((e=window.__WUJIE_INJECT)!==null&&e!==void 0&&e.appEventObjMap)return window.__WUJIE_INJECT.appEventObjMap;var t=window.__POWERED_BY_WUJIE__?window.__WUJIE.inject.appEventObjMap:new Map;return window.__WUJIE_INJECT=fr(fr({},window.__WUJIE_INJECT),{},{appEventObjMap:t}),t}(),Vr=function(){function e(t){Lt(this,e),this.id=t,this.$clear(),be.get(this.id)||be.set(this.id,{}),this.eventObj=be.get(this.id)}return It(e,[{key:"$on",value:function(r,n){var o=this.eventObj[r];return o?(o.includes(n)||o.push(n),this):(this.eventObj[r]=[n],this)}},{key:"$onAll",value:function(r){return this.$on(Me,r)}},{key:"$once",value:function(r,n){var o=(function(){this.$off(r,o),n.apply(void 0,arguments)}).bind(this);this.$on(r,o)}},{key:"$off",value:function(r,n){var o=this.eventObj[r];if(!r||!o||!o.length)return G("".concat(r," ").concat(Rt)),this;for(var i,a=o.length;a--;)if(i=o[a],i===n){o.splice(a,1);break}return this}},{key:"$offAll",value:function(r){return this.$off(Me,r)}},{key:"$emit",value:function(r){var n=[],o=[];if(be.forEach(function(w){w[r]&&(n=n.concat(w[r])),w[Me]&&(o=o.concat(w[Me]))}),!r||n.length===0&&o.length===0)G("".concat(r," ").concat(Rt));else try{for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];for(var c=0,u=n.length;c<u;c++){var s;(s=n)[c].apply(s,a)}for(var b=0,p=o.length;b<p;b++){var f;(f=o)[b].apply(f,[r].concat(a))}}catch(w){ee(w)}return this}},{key:"$clear",value:function(){var r,n=(r=be.get(this.id))!==null&&r!==void 0?r:{},o=Object.keys(n);return o.forEach(function(i){return delete n[i]}),this}}])}();function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var zr=function(){function e(t){Lt(this,e),K(this,"elementEventCacheMap",new WeakMap),window.__POWERED_BY_WUJIE__?this.inject=window.__WUJIE.inject:this.inject={idToSandboxMap:V,appEventObjMap:be,mainHostPath:window.location.protocol+"//"+window.location.host};var r=t.name,n=t.url,o=t.attrs,i=t.fiber,a=t.degradeAttrs,l=t.degrade,c=t.lifecycles,u=t.plugins;this.id=r,this.fiber=i,this.degrade=l||!_r,this.bus=new Vr(this.id),this.url=n,this.degradeAttrs=a,this.provide={bus:this.bus},this.styleSheetElements=[],this.execQueue=[],this.lifecycles=c,this.plugins=Ar(u);var s=Pr(n),b=s.urlElement,p=s.appHostPath,f=s.appRoutePath,w=this.inject.mainHostPath;if(this.iframe=ei(this,o,w,p,f),this.degrade){var y=ri(this.iframe,b,w,p),g=y.proxyDocument,E=y.proxyLocation;this.proxyDocument=g,this.proxyLocation=E}else{var _=ti(this.iframe,b,w,p),j=_.proxyWindow,L=_.proxyDocument,U=_.proxyLocation;this.proxy=j,this.proxyDocument=L,this.proxyLocation=U}this.provide.location=this.proxyLocation,ho(this.id,this)}return It(e,[{key:"active",value:function(){var t=Z(F.mark(function n(o){var i=this,a,l,c,u,s,b,p,f,w,y,g,E,_,j,L,U;return F.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return a=o.sync,l=o.url,c=o.el,u=o.template,s=o.props,b=o.alive,p=o.prefix,f=o.fetch,w=o.replace,this.url=l,this.sync=a,this.alive=b,this.hrefFlag=!1,this.prefix=p??this.prefix,this.replace=w??this.replace,this.provide.props=s??this.provide.props,this.activeFlag=!0,R.next=11,this.iframeReady;case 11:if(y=this.iframe.contentWindow,g=f?function(J,A){return f(typeof J=="string"?le(J,i.proxyLocation.href):J,A)}:this.fetch,g&&(y.fetch=g,this.fetch=g),this.execFlag&&this.alive||Mo(y),Se(y),this.template=u??this.template,!this.degrade){R.next=38;break}if(E=ve.call(y.document,"body"),_=Fr(this.id,c??E,this.degradeAttrs),j=_.iframe,L=_.container,this.el=L,c&&de(E),Qr(j.contentWindow,y),j.contentWindow.onunload=function(){i.unmount()},!this.document){R.next=34;break}if(!this.alive){R.next=29;break}j.contentDocument.replaceChild(this.document.documentElement,j.contentDocument.documentElement),Ho(j.contentDocument.documentElement,y),R.next=32;break;case 29:return R.next=31,ir(j.contentDocument,this.iframe.contentWindow,this.template);case 31:Bo(this.document.documentElement,j.contentDocument.documentElement,y);case 32:R.next=36;break;case 34:return R.next=36,ir(j.contentDocument,this.iframe.contentWindow,this.template);case 36:return this.document=j.contentDocument,R.abrupt("return");case 38:if(!this.shadowRoot){R.next=44;break}if(this.el=me(this.shadowRoot.host,c),!this.alive){R.next=42;break}return R.abrupt("return");case 42:R.next=46;break;case 44:U=ve.call(y.document,"body"),this.el=me(Co(this.id),c??U);case 46:return R.next=48,Uo(this.shadowRoot,y,this.template);case 48:this.patchCssRules(),this.provide.shadowRoot=this.shadowRoot;case 50:case"end":return R.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"requestIdleCallback",value:function(r){var n=this;return Ot(function(){n.iframe&&r.apply(n)})}},{key:"start",value:function(){var t=Z(F.mark(function n(o){var i=this,a,l,c,u,s,b,p,f,w;return F.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.execFlag=!0,g.next=3,o();case 3:if(a=g.sent,this.iframe){g.next=6;break}return g.abrupt("return");case 6:return l=this.iframe.contentWindow,l.__POWERED_BY_WUJIE__=!0,c=Qe("jsBeforeLoaders",this.plugins),u=Qe("jsAfterLoaders",this.plugins),s=[],b=[],p=[],a.forEach(function(E){E.defer?p.push(E):E.async?b.push(E):s.push(E)}),c.forEach(function(E){i.execQueue.push(function(){return i.fiber?i.requestIdleCallback(function(){return z(E,l)}):z(E,l)})}),s.concat(p).forEach(function(E){i.execQueue.push(function(){return E.contentPromise.then(function(_){return i.fiber?i.requestIdleCallback(function(){return z(oe(oe({},E),{},{content:_}),l)}):z(oe(oe({},E),{},{content:_}),l)})})}),b.forEach(function(E){E.contentPromise.then(function(_){i.fiber?i.requestIdleCallback(function(){return z(oe(oe({},E),{},{content:_}),l)}):z(oe(oe({},E),{},{content:_}),l)})}),this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(function(){return i.mount()})}:function(){return i.mount()}),f=function(){var _;De(l.document,"DOMContentLoaded"),De(l,"DOMContentLoaded"),(_=i.execQueue.shift())===null||_===void 0||_()},this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(f)}:f),u.forEach(function(E){i.execQueue.push(function(){return i.fiber?i.requestIdleCallback(function(){return z(E,l)}):z(E,l)})}),w=function(){var _;De(l.document,"readystatechange"),De(l,"load"),(_=i.execQueue.shift())===null||_===void 0||_()},this.execQueue.push(this.fiber?function(){return i.requestIdleCallback(w)}:w),(this.alive||!ce(this.iframe.contentWindow.__WUJIE_UNMOUNT))&&ar(this.el),this.execQueue.shift()(),g.abrupt("return",new Promise(function(E){i.execQueue.push(function(){var _;E(),(_=i.execQueue.shift())===null||_===void 0||_()})}));case 26:case"end":return g.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"mount",value:function(){var r;if(!this.mountFlag){if(ce(this.iframe.contentWindow.__WUJIE_MOUNT)){var n,o,i,a;ar(this.el),(n=this.lifecycles)===null||n===void 0||(o=n.beforeMount)===null||o===void 0||o.call(n,this.iframe.contentWindow),this.iframe.contentWindow.__WUJIE_MOUNT(),(i=this.lifecycles)===null||i===void 0||(a=i.afterMount)===null||a===void 0||a.call(i,this.iframe.contentWindow),this.mountFlag=!0}if(this.alive){var l,c;(l=this.lifecycles)===null||l===void 0||(c=l.activated)===null||c===void 0||c.call(l,this.iframe.contentWindow)}(r=this.execQueue.shift())===null||r===void 0||r()}}},{key:"unmount",value:function(){var t=Z(F.mark(function n(){var o,i,a,l,c,u,s;return F.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.activeFlag=!1,Do(),this.alive&&((o=this.lifecycles)===null||o===void 0||(i=o.deactivated)===null||i===void 0||i.call(o,this.iframe.contentWindow)),this.mountFlag){p.next=5;break}return p.abrupt("return");case 5:if(!(ce(this.iframe.contentWindow.__WUJIE_UNMOUNT)&&!this.alive&&!this.hrefFlag)){p.next=15;break}return(a=this.lifecycles)===null||a===void 0||(l=a.beforeUnmount)===null||l===void 0||l.call(a,this.iframe.contentWindow),p.next=9,this.iframe.contentWindow.__WUJIE_UNMOUNT();case 9:(c=this.lifecycles)===null||c===void 0||(u=c.afterUnmount)===null||u===void 0||u.call(c,this.iframe.contentWindow),this.mountFlag=!1,(s=this.bus)===null||s===void 0||s.$clear(),this.degrade||(de(this.shadowRoot),rr(this.head),rr(this.body)),de(this.head),de(this.body);case 15:case"end":return p.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"destroy",value:function(){var t=Z(F.mark(function n(){var o,i;return F.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.unmount();case 2:this.bus.$clear(),this.shadowRoot=null,this.proxy=null,this.proxyDocument=null,this.proxyLocation=null,this.execQueue=null,this.provide=null,this.degradeAttrs=null,this.styleSheetElements=null,this.bus=null,this.replace=null,this.fetch=null,this.execFlag=null,this.mountFlag=null,this.hrefFlag=null,this.document=null,this.head=null,this.body=null,this.elementEventCacheMap=null,this.lifecycles=null,this.plugins=null,this.provide=null,this.inject=null,this.execQueue=null,this.prefix=null,this.el&&(de(this.el),this.el=null),this.iframe&&(i=this.iframe.contentWindow,i!=null&&i.__WUJIE_EVENTLISTENER__&&i.__WUJIE_EVENTLISTENER__.forEach(function(c){i.removeEventListener(c.type,c.listener,c.options)}),(o=this.iframe.parentNode)===null||o===void 0||o.removeChild(this.iframe),this.iframe=null),vo(this.id);case 30:case"end":return l.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"rebuildStyleSheets",value:function(){var r=this;this.styleSheetElements&&this.styleSheetElements.length&&this.styleSheetElements.forEach(function(n){Nr.call(r.degrade?r.document.head:r.shadowRoot.head,n)}),this.patchCssRules()}},{key:"patchCssRules",value:function(){if(!this.degrade&&!this.shadowRoot.host.hasAttribute(Ct)){var r=Gr(Array.from(this.iframe.contentDocument.querySelectorAll("style")).map(function(a){return a.sheet})),n=Ae(r,2),o=n[0],i=n[1];o&&(this.shadowRoot.head.appendChild(o),this.styleSheetElements.push(o)),i&&this.shadowRoot.host.appendChild(i),(o||i)&&this.shadowRoot.host.setAttribute(Ct,"")}}}])}();function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pr(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Et=new Vr(Date.now().toString());window.__WUJIE&&!window.__POWERED_BY_WUJIE__&&Rr();Wo();jo();_r||G(Sn);function oi(e){e.name&&mo(e.name,e)}function ii(e){return bt.apply(this,arguments)}function bt(){return bt=Z(F.mark(function e(t){var r,n,o,i,a,l,c,u,s,b,p,f,w,y,g,E,_,j,L,U,M,R,J,A,x,k,D,O,m,I,h,d,v,S,T,P,C,N,$;return F.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(o=ne(t.name),i=Dr(t.name),a=Cr(t,i),l=a.name,c=a.url,u=a.html,s=a.replace,b=a.fetch,p=a.props,f=a.attrs,w=a.degradeAttrs,y=a.fiber,g=a.alive,E=a.degrade,_=a.sync,j=a.prefix,L=a.el,U=a.loading,M=a.plugins,R=a.lifecycles,!o){W.next=41;break}if(o.plugins=Ar(M),o.lifecycles=R,J=o.iframe.contentWindow,!o.preload){W.next=11;break}return W.next=11,o.preload;case 11:if(!g){W.next=26;break}return W.next=14,o.active({url:c,sync:_,prefix:j,el:L,props:p,alive:g,fetch:b,replace:s});case 14:if(o.execFlag){W.next=22;break}return(k=o.lifecycles)===null||k===void 0||(D=k.beforeLoad)===null||D===void 0||D.call(k,o.iframe.contentWindow),W.next=18,ht({url:c,html:u,opts:{fetch:b||window.fetch,plugins:o.plugins,loadError:o.lifecycles.loadError,fiber:y}});case 18:return O=W.sent,m=O.getExternalScripts,W.next=22,o.start(m);case 22:return(A=o.lifecycles)===null||A===void 0||(x=A.activated)===null||x===void 0||x.call(A,o.iframe.contentWindow),W.abrupt("return",function(){return o.destroy()});case 26:if(!ce(J.__WUJIE_MOUNT)){W.next=39;break}return W.next=29,o.unmount();case 29:return W.next=31,o.active({url:c,sync:_,prefix:j,el:L,props:p,alive:g,fetch:b,replace:s});case 31:return o.rebuildStyleSheets(),(I=o.lifecycles)===null||I===void 0||(h=I.beforeMount)===null||h===void 0||h.call(I,o.iframe.contentWindow),J.__WUJIE_MOUNT(),(d=o.lifecycles)===null||d===void 0||(v=d.afterMount)===null||v===void 0||v.call(d,o.iframe.contentWindow),o.mountFlag=!0,W.abrupt("return",function(){return o.destroy()});case 39:return W.next=41,o.destroy();case 41:return xo(L,U),S=new zr({name:l,url:c,attrs:f,degradeAttrs:w,fiber:y,degrade:E,plugins:M,lifecycles:R}),(r=S.lifecycles)===null||r===void 0||(n=r.beforeLoad)===null||n===void 0||n.call(r,S.iframe.contentWindow),W.next=46,ht({url:c,html:u,opts:{fetch:b||window.fetch,plugins:S.plugins,loadError:S.lifecycles.loadError,fiber:y}});case 46:return T=W.sent,P=T.template,C=T.getExternalScripts,N=T.getExternalStyleSheets,W.next=52,xr(S,P,N);case 52:return $=W.sent,W.next=55,S.active({url:c,sync:_,prefix:j,template:$,el:L,props:p,alive:g,fetch:b,replace:s});case 55:return W.next=57,S.start(C);case 57:return W.abrupt("return",function(){return S.destroy()});case 58:case"end":return W.stop()}},e)})),bt.apply(this,arguments)}function ai(e){Ot(function(){if(!(ne(e.name)||Lr(e.name))){var t=Dr(e.name),r=Cr(ni({},e),t),n=r.name,o=r.url,i=r.html,a=r.props,l=r.alive,c=r.replace,u=r.fetch,s=r.exec,b=r.attrs,p=r.degradeAttrs,f=r.fiber,w=r.degrade,y=r.prefix,g=r.plugins,E=r.lifecycles,_=new zr({name:n,url:o,attrs:b,degradeAttrs:p,fiber:f,degrade:w,plugins:g,lifecycles:E});if(_.preload)return _.preload;var j=function(){var L=Z(F.mark(function U(){var M,R,J,A,x,k,D;return F.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return(M=_.lifecycles)===null||M===void 0||(R=M.beforeLoad)===null||R===void 0||R.call(M,_.iframe.contentWindow),m.next=3,ht({url:o,html:i,opts:{fetch:u||window.fetch,plugins:_.plugins,loadError:_.lifecycles.loadError,fiber:f}});case 3:return J=m.sent,A=J.template,x=J.getExternalScripts,k=J.getExternalStyleSheets,m.next=9,xr(_,A,k);case 9:return D=m.sent,m.next=12,_.active({url:o,props:a,prefix:y,alive:l,template:D,fetch:u,replace:c});case 12:if(!s){m.next=17;break}return m.next=15,_.start(x);case 15:m.next=19;break;case 17:return m.next=19,x();case 19:case"end":return m.stop()}},U)}));return function(){return L.apply(this,arguments)}}();_.preload=j()}})}function Zr(e){var t=ne(e);t&&t.destroy()}function ye(e){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(e)}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hr(Object(r),!0).forEach(function(n){Kr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(h,d,v){h[d]=v.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(h,d,v){return Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}),h[d]}try{u({},"")}catch{u=function(v,S,T){return v[S]=T}}function s(h,d,v,S){var T=d&&d.prototype instanceof E?d:E,P=Object.create(T.prototype),C=new m(S||[]);return o(P,"_invoke",{value:x(h,v,C)}),P}function b(h,d,v){try{return{type:"normal",arg:h.call(d,v)}}catch(S){return{type:"throw",arg:S}}}t.wrap=s;var p="suspendedStart",f="suspendedYield",w="executing",y="completed",g={};function E(){}function _(){}function j(){}var L={};u(L,a,function(){return this});var U=Object.getPrototypeOf,M=U&&U(U(I([])));M&&M!==r&&n.call(M,a)&&(L=M);var R=j.prototype=E.prototype=Object.create(L);function J(h){["next","throw","return"].forEach(function(d){u(h,d,function(v){return this._invoke(d,v)})})}function A(h,d){function v(T,P,C,N){var $=b(h[T],h,P);if($.type!=="throw"){var Q=$.arg,W=Q.value;return W&&ye(W)=="object"&&n.call(W,"__await")?d.resolve(W.__await).then(function(H){v("next",H,C,N)},function(H){v("throw",H,C,N)}):d.resolve(W).then(function(H){Q.value=H,C(Q)},function(H){return v("throw",H,C,N)})}N($.arg)}var S;o(this,"_invoke",{value:function(P,C){function N(){return new d(function($,Q){v(P,C,$,Q)})}return S=S?S.then(N,N):N()}})}function x(h,d,v){var S=p;return function(T,P){if(S===w)throw Error("Generator is already running");if(S===y){if(T==="throw")throw P;return{value:e,done:!0}}for(v.method=T,v.arg=P;;){var C=v.delegate;if(C){var N=k(C,v);if(N){if(N===g)continue;return N}}if(v.method==="next")v.sent=v._sent=v.arg;else if(v.method==="throw"){if(S===p)throw S=y,v.arg;v.dispatchException(v.arg)}else v.method==="return"&&v.abrupt("return",v.arg);S=w;var $=b(h,d,v);if($.type==="normal"){if(S=v.done?y:f,$.arg===g)continue;return{value:$.arg,done:v.done}}$.type==="throw"&&(S=y,v.method="throw",v.arg=$.arg)}}}function k(h,d){var v=d.method,S=h.iterator[v];if(S===e)return d.delegate=null,v==="throw"&&h.iterator.return&&(d.method="return",d.arg=e,k(h,d),d.method==="throw")||v!=="return"&&(d.method="throw",d.arg=new TypeError("The iterator does not provide a '"+v+"' method")),g;var T=b(S,h.iterator,d.arg);if(T.type==="throw")return d.method="throw",d.arg=T.arg,d.delegate=null,g;var P=T.arg;return P?P.done?(d[h.resultName]=P.value,d.next=h.nextLoc,d.method!=="return"&&(d.method="next",d.arg=e),d.delegate=null,g):P:(d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,g)}function D(h){var d={tryLoc:h[0]};1 in h&&(d.catchLoc=h[1]),2 in h&&(d.finallyLoc=h[2],d.afterLoc=h[3]),this.tryEntries.push(d)}function O(h){var d=h.completion||{};d.type="normal",delete d.arg,h.completion=d}function m(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(D,this),this.reset(!0)}function I(h){if(h||h===""){var d=h[a];if(d)return d.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var v=-1,S=function T(){for(;++v<h.length;)if(n.call(h,v))return T.value=h[v],T.done=!1,T;return T.value=e,T.done=!0,T};return S.next=S}}throw new TypeError(ye(h)+" is not iterable")}return _.prototype=j,o(R,"constructor",{value:j,configurable:!0}),o(j,"constructor",{value:_,configurable:!0}),_.displayName=u(j,c,"GeneratorFunction"),t.isGeneratorFunction=function(h){var d=typeof h=="function"&&h.constructor;return!!d&&(d===_||(d.displayName||d.name)==="GeneratorFunction")},t.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,j):(h.__proto__=j,u(h,c,"GeneratorFunction")),h.prototype=Object.create(R),h},t.awrap=function(h){return{__await:h}},J(A.prototype),u(A.prototype,l,function(){return this}),t.AsyncIterator=A,t.async=function(h,d,v,S,T){T===void 0&&(T=Promise);var P=new A(s(h,d,v,S),T);return t.isGeneratorFunction(d)?P:P.next().then(function(C){return C.done?C.value:P.next()})},J(R),u(R,c,"Generator"),u(R,a,function(){return this}),u(R,"toString",function(){return"[object Generator]"}),t.keys=function(h){var d=Object(h),v=[];for(var S in d)v.push(S);return v.reverse(),function T(){for(;v.length;){var P=v.pop();if(P in d)return T.value=P,T.done=!1,T}return T.done=!0,T}},t.values=I,m.prototype={constructor:m,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!d)for(var v in this)v.charAt(0)==="t"&&n.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=e)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var v=this;function S(Q,W){return C.type="throw",C.arg=d,v.next=Q,W&&(v.method="next",v.arg=e),!!W}for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T],C=P.completion;if(P.tryLoc==="root")return S("end");if(P.tryLoc<=this.prev){var N=n.call(P,"catchLoc"),$=n.call(P,"finallyLoc");if(N&&$){if(this.prev<P.catchLoc)return S(P.catchLoc,!0);if(this.prev<P.finallyLoc)return S(P.finallyLoc)}else if(N){if(this.prev<P.catchLoc)return S(P.catchLoc,!0)}else{if(!$)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return S(P.finallyLoc)}}}},abrupt:function(d,v){for(var S=this.tryEntries.length-1;S>=0;--S){var T=this.tryEntries[S];if(T.tryLoc<=this.prev&&n.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var P=T;break}}P&&(d==="break"||d==="continue")&&P.tryLoc<=v&&v<=P.finallyLoc&&(P=null);var C=P?P.completion:{};return C.type=d,C.arg=v,P?(this.method="next",this.next=P.finallyLoc,g):this.complete(C)},complete:function(d,v){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&v&&(this.next=v),g},finish:function(d){for(var v=this.tryEntries.length-1;v>=0;--v){var S=this.tryEntries[v];if(S.finallyLoc===d)return this.complete(S.completion,S.afterLoc),O(S),g}},catch:function(d){for(var v=this.tryEntries.length-1;v>=0;--v){var S=this.tryEntries[v];if(S.tryLoc===d){var T=S.completion;if(T.type==="throw"){var P=T.arg;O(S)}return P}}throw Error("illegal catch attempt")},delegateYield:function(d,v,S){return this.delegate={iterator:I(d),resultName:v,nextLoc:S},this.method==="next"&&(this.arg=e),g}},t}function vr(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,o)}function ci(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(c){vr(i,n,o,a,l,"next",c)}function l(c){vr(i,n,o,a,l,"throw",c)}a(void 0)})}}function Kr(e,t,r){return(t=li(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function li(e){var t=si(e,"string");return ye(t)=="symbol"?t:t+""}function si(e,t){if(ye(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ye(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi={name:"WujieVue",props:{width:{type:String,default:""},height:{type:String,default:""},name:{type:String,default:""},loading:{type:HTMLElement,default:void 0},url:{type:String,default:""},sync:{type:Boolean,default:void 0},prefix:{type:Object,default:void 0},alive:{type:Boolean,default:void 0},props:{type:Object,default:void 0},attrs:{type:Object,default:void 0},replace:{type:Function,default:void 0},fetch:{type:Function,default:void 0},fiber:{type:Boolean,default:void 0},degrade:{type:Boolean,default:void 0},plugins:{type:Array,default:null},beforeLoad:{type:Function,default:null},beforeMount:{type:Function,default:null},afterMount:{type:Function,default:null},beforeUnmount:{type:Function,default:null},afterUnmount:{type:Function,default:null},activated:{type:Function,default:null},deactivated:{type:Function,default:null},loadError:{type:Function,default:null},style:{type:Object,default:void 0}},data:function(){return{startAppQueue:Promise.resolve()}},mounted:function(){var t=this;this.name&&(window.__WUJIE_QUEUE?window.__WUJIE_QUEUE[this.name]?this.startAppQueue=window.__WUJIE_QUEUE[this.name]:window.__WUJIE_QUEUE[this.name]=this.startAppQueue:window.__WUJIE_QUEUE=Kr({},this.name,this.startAppQueue)),Et.$onAll(this.handleEmit),this.execStartApp(),this.$watch(function(){return t.name+t.url},function(){return t.execStartApp()})},methods:{handleEmit:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.$emit.apply(this,[t].concat(n))},startApp:function(){var t=this;return ci(wt().mark(function r(){return wt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,ii({name:t.name,url:t.url,el:t.$refs.wujie,loading:t.loading,alive:t.alive,fetch:t.fetch,props:t.props,attrs:t.attrs,replace:t.replace,sync:t.sync,prefix:t.prefix,fiber:t.fiber,degrade:t.degrade,plugins:t.plugins,beforeLoad:t.beforeLoad,beforeMount:t.beforeMount,afterMount:t.afterMount,beforeUnmount:t.beforeUnmount,afterUnmount:t.afterUnmount,activated:t.activated,deactivated:t.deactivated,loadError:t.loadError});case 3:o.next=8;break;case 5:o.prev=5,o.t0=o.catch(0),console.log(o.t0);case 8:case"end":return o.stop()}},r,null,[[0,5]])}))()},execStartApp:function(){this.startAppQueue=this.startAppQueue.then(this.startApp),window.__WUJIE_QUEUE[this.name]=this.startAppQueue},destroy:function(){Zr(this.name)}},beforeDestroy:function(){Et.$offAll(this.handleEmit)},render:function(){return on("div",{style:ui({width:this.width,height:this.height},this.style),ref:"wujie"})}},Oe=nn(fi);Oe.setupApp=oi;Oe.preloadApp=ai;Oe.bus=Et;Oe.destroyApp=Zr;Oe.install=function(e){e.component("WujieVue",Oe)};export{Oe as default};
