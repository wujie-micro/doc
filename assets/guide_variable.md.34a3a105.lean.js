import{_ as a,c as n,N as l,o}from"./chunks/framework.7db8a257.js";const _=JSON.parse('{"title":"全局变量","description":"","frontmatter":{},"headers":[],"relativePath":"guide/variable.md","lastUpdated":1732419155000}'),e={name:"guide/variable.md"};function p(t,s,r,c,i,F){return o(),n("div",null,s[0]||(s[0]=[l(`<h1 id="全局变量" tabindex="-1">全局变量 <a class="header-anchor" href="#全局变量" aria-label="Permalink to &quot;全局变量&quot;">​</a></h1><p>无界会在子应用的<code>window</code>对象中注入一些全局变量:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">declare</span><span style="color:#BABED8;"> global </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">interface</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Window</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 是否存在无界</span></span>
<span class="line"><span style="color:#F07178;">    __POWERED_BY_WUJIE__</span><span style="color:#89DDFF;">?:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 子应用公共加载路径</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_PUBLIC_PATH__</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 原生的querySelector</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">querySelector</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 原生的querySelectorAll</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">querySelectorAll</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 原生的window对象</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_RAW_WINDOW__</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 子应用沙盒实例</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">WuJie</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 子应用mount函数</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_MOUNT</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 子应用unmount函数</span></span>
<span class="line"><span style="color:#F07178;">    __WUJIE_UNMOUNT</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 注入对象</span></span>
<span class="line"><span style="color:#F07178;">    $wujie</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      bus</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">EventBus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      shadowRoot</span><span style="color:#89DDFF;">?:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">ShadowRoot</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      props</span><span style="color:#89DDFF;">?:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> [</span><span style="color:#BABED8;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">      location</span><span style="color:#89DDFF;">?:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="powered-by-wujie" tabindex="-1"><code>__POWERED_BY_WUJIE__</code> <a class="header-anchor" href="#powered-by-wujie" aria-label="Permalink to &quot;\`__POWERED_BY_WUJIE__\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>Boolean</code></p></li><li><p><strong>描述：</strong> 子应用是否在无界的环境中</p></li></ul><h2 id="wujie-public-path" tabindex="-1"><code>__WUJIE_PUBLIC_PATH__</code> <a class="header-anchor" href="#wujie-public-path" aria-label="Permalink to &quot;\`__WUJIE_PUBLIC_PATH__\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>string</code></p></li><li><p><strong>描述：</strong> 子应用公共加载路径</p></li></ul><h2 id="wujie-raw-document-query-selector" tabindex="-1"><code>__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__</code> <a class="header-anchor" href="#wujie-raw-document-query-selector" aria-label="Permalink to &quot;\`__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR__\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>typeof Document.prototype.querySelector</code></p></li><li><p><strong>描述：</strong> 子应用的 document.querySelector 都被劫持到 webcomponent 上，如果需要没有劫持的 querySelector， 可以使用此变量</p></li></ul><h2 id="wujie-raw-document-query-selector-all" tabindex="-1"><code>__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__</code> <a class="header-anchor" href="#wujie-raw-document-query-selector-all" aria-label="Permalink to &quot;\`__WUJIE_RAW_DOCUMENT_QUERY_SELECTOR_ALL__\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>typeof Document.prototype.querySelectorAll</code></p></li><li><p><strong>描述：</strong> 子应用的 document.querySelectorAll 都被劫持到 webcomponent 上，如果需要没有劫持的 querySelectorAll 可以使用此变量</p></li></ul><h2 id="wujie-raw-window" tabindex="-1"><code>__WUJIE_RAW_WINDOW__</code> <a class="header-anchor" href="#wujie-raw-window" aria-label="Permalink to &quot;\`__WUJIE_RAW_WINDOW__\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>Window</code></p></li><li><p><strong>描述：</strong> 子应用的原生 window 对象</p></li></ul><h2 id="wujie" tabindex="-1"><code>__WUJIE</code> <a class="header-anchor" href="#wujie" aria-label="Permalink to &quot;\`__WUJIE\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>Wujie</code></p></li><li><p><strong>描述：</strong> 子应用无界实例，用户不应该使用</p></li></ul><h2 id="wujie-mount" tabindex="-1"><code>__WUJIE_MOUNT</code> <a class="header-anchor" href="#wujie-mount" aria-label="Permalink to &quot;\`__WUJIE_MOUNT\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>Function</code></p></li><li><p><strong>描述：</strong> 用户自定义的 mount 生命周期</p></li></ul><h2 id="wujie-unmount" tabindex="-1"><code>__WUJIE_UNMOUNT</code> <a class="header-anchor" href="#wujie-unmount" aria-label="Permalink to &quot;\`__WUJIE_UNMOUNT\`&quot;">​</a></h2><ul><li><p><strong>类型：</strong> <code>Function</code></p></li><li><p><strong>描述：</strong> 用户自定义的 unmount 生命周期</p></li></ul><h2 id="wujie-1" tabindex="-1">$wujie <a class="header-anchor" href="#wujie-1" aria-label="Permalink to &quot;$wujie&quot;">​</a></h2><p><a href="/doc/api/wujie.html#wujie">详见</a></p>`,21)]))}const D=a(e,[["render",p]]);export{_ as __pageData,D as default};
